

<!DOCTYPE html>
<html lang="zh-CN" data-default-color-scheme=&#34;auto&#34;>



<head>
  <meta charset="UTF-8">
  <link rel="apple-touch-icon" sizes="76x76" href="/img/apple-touch-icon.jpg">
  <link rel="icon" type="image/png" href="/img/colourso-logo.jpg">
  <meta name="viewport"
        content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, shrink-to-fit=no">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  
  <meta name="theme-color" content="#2f4154">
  <meta name="description" content="">
  <meta name="author" content="Colourso">
  <meta name="keywords" content="">
  <title>Python入门 - Colourso</title>

  <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css" />


  <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/github-markdown-css@4.0.0/github-markdown.min.css" />
  <link  rel="stylesheet" href="/lib/hint/hint.min.css" />

  
    
    
      
      <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@10.4.0/styles/github-gist.min.css" />
    
  

  
    <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.css" />
  



<!-- 主题依赖的图标库，不要自行修改 -->

<link rel="stylesheet" href="//at.alicdn.com/t/font_1749284_ba1fz6golrf.css">



<link rel="stylesheet" href="//at.alicdn.com/t/font_1736178_kmeydafke9r.css">


<link  rel="stylesheet" href="/css/main.css" />

<!-- 自定义样式保持在最底部 -->


  <script id="fluid-configs">
    var Fluid = window.Fluid || {};
    var CONFIG = {"hostname":"colourso.github.io","root":"/","version":"1.8.7","typing":{"enable":true,"typeSpeed":80,"cursorChar":"_","loop":false},"anchorjs":{"enable":true,"element":"h1,h2,h3,h4,h5,h6","placement":"right","visible":"hover","icon":"❡"},"progressbar":{"enable":true,"height_px":3,"color":"#29d","options":{"showSpinner":false,"trickleSpeed":100}},"copy_btn":true,"image_zoom":{"enable":true},"toc":{"enable":true,"headingSelector":"h1,h2,h3,h4,h5,h6","collapseDepth":2},"lazyload":{"enable":true,"onlypost":false},"web_analytics":{"enable":true,"baidu":null,"google":null,"gtag":null,"tencent":{"sid":null,"cid":null},"woyaola":null,"cnzz":null,"leancloud":{"app_id":"MtnFjgPHU4QgDov26Ttd39aS-gzGzoHsz","app_key":"VxW97jqxtcjGJrb9AWmPKqrK","server_url":"https://mtnfjgph.lc-cn-n1-shared.com"}}};
  </script>
  <script  src="/js/utils.js" ></script>
  <script  src="/js/color-schema.js" ></script>
<meta name="generator" content="Hexo 5.3.0"></head>


<body>
  <header style="height: 70vh;">
    <nav id="navbar" class="navbar fixed-top  navbar-expand-lg navbar-dark scrolling-navbar">
  <div class="container">
    <a class="navbar-brand"
       href="/">&nbsp;<strong>Colourso</strong>&nbsp;</a>

    <button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse"
            data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <div class="animated-icon"><span></span><span></span><span></span></div>
    </button>

    <!-- Collapsible content -->
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav ml-auto text-center">
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/">
                <i class="iconfont icon-home-fill"></i>
                首页
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/archives/">
                <i class="iconfont icon-archive-fill"></i>
                归档
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/categories/">
                <i class="iconfont icon-category-fill"></i>
                分类
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/tags/">
                <i class="iconfont icon-tags-fill"></i>
                标签
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/about/">
                <i class="iconfont icon-user-fill"></i>
                关于
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/collection/">
                <i class="iconfont icon-note"></i>
                collection
              </a>
            </li>
          
        
        
          <li class="nav-item" id="search-btn">
            <a class="nav-link" data-toggle="modal" data-target="#modalSearch">&nbsp;<i
                class="iconfont icon-search"></i>&nbsp;</a>
          </li>
        
        
          <li class="nav-item" id="color-toggle-btn">
            <a class="nav-link" href="javascript:">&nbsp;<i
                class="iconfont icon-dark" id="color-toggle-icon"></i>&nbsp;</a>
          </li>
        
      </ul>
    </div>
  </div>
</nav>

    <div class="banner" id="banner" parallax=true
         style="background: url('https://s2.ax1x.com/2020/02/27/3wrCM4.jpg') no-repeat center center;
           background-size: cover;">
      <div class="full-bg-img">
        <div class="mask flex-center" style="background-color: rgba(0, 0, 0, 0.3)">
          <div class="page-header text-center fade-in-up">
            <span class="h2" id="subtitle" title="Python入门">
              
            </span>

            
              <div class="mt-3">
  
  
    <span class="post-meta">
      <i class="iconfont icon-date-fill" aria-hidden="true"></i>
      <time datetime="2019-08-17 11:32" pubdate>
        2019年8月17日 中午
      </time>
    </span>
  
</div>

<div class="mt-1">
  
    
    <span class="post-meta mr-2">
      <i class="iconfont icon-chart"></i>
      9.4k 字
    </span>
  

  
    
    <span class="post-meta mr-2">
      <i class="iconfont icon-clock-fill"></i>
      
      
      191
       分钟
    </span>
  

  
  
    
      <!-- LeanCloud 统计文章PV -->
      <span id="leancloud-page-views-container" class="post-meta" style="display: none">
        <i class="iconfont icon-eye" aria-hidden="true"></i>
        <span id="leancloud-page-views"></span> 次
      </span>
    
  
</div>

            
          </div>

          
        </div>
      </div>
    </div>
  </header>

  <main>
    
      

<div class="container-fluid nopadding-x">
  <div class="row nomargin-x">
    <div class="d-none d-lg-block col-lg-2"></div>
    <div class="col-lg-8 nopadding-x-md">
      <div class="container nopadding-x-md" id="board-ctn">
        <div class="py-5" id="board">
          <article class="post-content mx-auto">
            <!-- SEO header -->
            <h1 style="display: none">Python入门</h1>
            
              <p class="note note-info">
                
                  本文最后更新于：2020年5月17日 晚上
                
              </p>
            
            <div class="markdown-body">
              <p><strong>概览</strong>：本文是Python3.x的简易学习笔记。</p>
<a id="more"></a>

<h2 id="基本数据类型"><a href="#基本数据类型" class="headerlink" title="基本数据类型"></a>基本数据类型</h2><p>整数：int  8</p>
<p>浮点数： float  8.8</p>
<p>字符串： str  “8个人部分股”</p>
<p>布尔值：bool  True  False</p>
<h3 id="查看数据类型"><a href="#查看数据类型" class="headerlink" title="查看数据类型"></a>查看数据类型</h3><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs stylus"><span class="hljs-function"><span class="hljs-title">type</span><span class="hljs-params">(<span class="hljs-number">8</span>)</span></span> 可以返回变量的基本类型<br><span class="hljs-function"><span class="hljs-title">id</span><span class="hljs-params">(<span class="hljs-number">8</span>)</span></span>   可以返回变量所指的内存地址<br></code></pre></td></tr></table></figure>
<h3 id="类型转换"><a href="#类型转换" class="headerlink" title="类型转换"></a>类型转换</h3><figure class="highlight ocaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs ocaml">str --&gt; <span class="hljs-built_in">int</span> ： <span class="hljs-built_in">int</span>(<span class="hljs-string">&#x27;8&#x27;</span>)<br><span class="hljs-built_in">int</span> --&gt; str ： str(<span class="hljs-number">123</span>)<br><span class="hljs-built_in">int</span> --&gt; <span class="hljs-built_in">bool</span>： <span class="hljs-built_in">bool</span>(<span class="hljs-number">123</span>) = <span class="hljs-type">True</span><br></code></pre></td></tr></table></figure>
<h2 id="序列"><a href="#序列" class="headerlink" title="序列"></a>序列</h2><p>字符串、列表、元组三种类型都属于序列。</p>
<figure class="highlight prolog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs prolog">字符串： <span class="hljs-string">&quot;abcd&quot;</span><br>列表：  [<span class="hljs-number">0</span>, <span class="hljs-string">&#x27;abcd&#x27;</span>]<br>元组：  (<span class="hljs-string">&quot;abc&quot;</span>, <span class="hljs-string">&quot;def&quot;</span>)<br></code></pre></td></tr></table></figure>
<p>列表存储的内容可变更</p>
<p>但是元组存储的内容不可变更</p>
<h3 id="序列的基本操作"><a href="#序列的基本操作" class="headerlink" title="序列的基本操作"></a>序列的基本操作</h3><h4 id="切片操作-–-0-整数"><a href="#切片操作-–-0-整数" class="headerlink" title="切片操作 – [0:整数]"></a>切片操作 – [0:整数]</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs python">chineseZodiac = <span class="hljs-string">&quot;鼠牛虎兔龙蛇马羊猴鸡狗猪&quot;</span><br><br>print(chineseZodiac[<span class="hljs-number">0</span>:<span class="hljs-number">4</span>]) <span class="hljs-comment"># 鼠牛虎兔 [0,4) 左闭右开</span><br></code></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># 切片语法</span><br>sname[start : end : step]<br><br><span class="hljs-comment">#sname:序列的名称</span><br><span class="hljs-comment">#start:切片开始的位置，包括该位置</span><br><span class="hljs-comment">#end: 切片截至的位置，但不包括该位置</span><br><span class="hljs-comment">#step: 切片的步长，如果省略，默认为1</span><br></code></pre></td></tr></table></figure>
<h4 id="成员关系-–-in、not-in"><a href="#成员关系-–-in、not-in" class="headerlink" title="成员关系 – in、not in"></a>成员关系 – in、not in</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs python">print(<span class="hljs-string">&#x27;狗&#x27;</span> <span class="hljs-keyword">in</span> chineseZodiac)  <span class="hljs-comment"># True</span><br><br>print(<span class="hljs-string">&#x27;狗&#x27;</span> <span class="hljs-keyword">not</span> <span class="hljs-keyword">in</span> chineseZodiac)  <span class="hljs-comment"># False</span><br></code></pre></td></tr></table></figure>
<h4 id="连接操作-–-序列-序列"><a href="#连接操作-–-序列-序列" class="headerlink" title="连接操作 – 序列+序列"></a>连接操作 – 序列+序列</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs python">print(chineseZodiac + <span class="hljs-string">&#x27;abcd&#x27;</span>)<br></code></pre></td></tr></table></figure>
<h4 id="重复操作-–-序列-整数"><a href="#重复操作-–-序列-整数" class="headerlink" title="重复操作 – 序列 * 整数"></a>重复操作 – 序列 * 整数</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs python">chineseZodiac = <span class="hljs-string">&quot;猴鸡狗猪鼠牛虎兔龙蛇马羊&quot;</span><br><br>print(chineseZodiac * <span class="hljs-number">3</span>) <span class="hljs-comment">#猴鸡狗猪鼠牛虎兔龙蛇马羊猴鸡狗猪鼠牛虎兔龙蛇马羊猴鸡狗猪鼠牛虎兔龙蛇马羊</span><br></code></pre></td></tr></table></figure>
<h4 id="序列长度"><a href="#序列长度" class="headerlink" title="序列长度"></a>序列长度</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-built_in">len</span>() <span class="hljs-comment">#计算列表的长度</span><br></code></pre></td></tr></table></figure>
<h3 id="字符串、元组、列表"><a href="#字符串、元组、列表" class="headerlink" title="字符串、元组、列表"></a>字符串、元组、列表</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs python">chineseZodiac = <span class="hljs-string">&quot;鼠牛虎兔龙蛇马羊猴鸡狗猪&quot;</span> <span class="hljs-comment"># &lt;class &#x27;str&#x27;&gt;</span><br><br>zodiac_name = (<span class="hljs-string">u&#x27;摩羯座&#x27;</span>,<span class="hljs-string">u&#x27;水瓶座&#x27;</span>,<span class="hljs-string">u&#x27;双鱼座&#x27;</span>,<span class="hljs-string">u&#x27;白羊座&#x27;</span>,<span class="hljs-string">u&#x27;金牛座&#x27;</span>,<span class="hljs-string">u&#x27;双子座&#x27;</span>,<br>               <span class="hljs-string">u&#x27;巨蟹座&#x27;</span>,<span class="hljs-string">u&#x27;狮子座&#x27;</span>,<span class="hljs-string">u&#x27;处女座&#x27;</span>,<span class="hljs-string">u&#x27;天秤座&#x27;</span>,<span class="hljs-string">u&#x27;天蝎座&#x27;</span>,<span class="hljs-string">u&#x27;射手座&#x27;</span>) <span class="hljs-comment">#&lt;class &#x27;tuple&#x27;&gt;</span><br>               <br>alist = [<span class="hljs-string">&#x27;abc&#x27;</span>, <span class="hljs-string">&#x27;xyz&#x27;</span>]  <span class="hljs-comment">#&lt;class &#x27;list&#x27;&gt;</span><br></code></pre></td></tr></table></figure>
<h3 id="列表推导式"><a href="#列表推导式" class="headerlink" title="列表推导式"></a>列表推导式</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment">#普通方式的列表</span><br>alist = []<br><span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">1</span>,<span class="hljs-number">11</span>):<br>    <span class="hljs-keyword">if</span>(i%<span class="hljs-number">2</span> == <span class="hljs-number">0</span>):<br>        alist.append(i*i)<br><br>print(alist) <span class="hljs-comment"># [4, 16, 36, 64, 100]</span><br><br><span class="hljs-comment">#列表推导式</span><br>blist = [i*i <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">1</span>,<span class="hljs-number">11</span>) <span class="hljs-keyword">if</span>(i%<span class="hljs-number">2</span> == <span class="hljs-number">0</span>)]<br>print(blist) <span class="hljs-comment"># [4, 16, 36, 64, 100]</span><br></code></pre></td></tr></table></figure>
<h3 id="字符串的一些操作"><a href="#字符串的一些操作" class="headerlink" title="字符串的一些操作"></a>字符串的一些操作</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs python">split(<span class="hljs-string">&#x27;|&#x27;</span>) -- 将字符串按照符号“|”来进行分割成为一个列表<br>strip(<span class="hljs-string">&#x27;\n&#x27;</span>) -- 将字符串里的换行符剔除<br>replace(<span class="hljs-string">&#x27;a&#x27;</span>,<span class="hljs-string">&#x27;b&#x27;</span>) -- 将字符串里的字母<span class="hljs-string">&#x27;a&#x27;</span>全都替换成为字母<span class="hljs-string">&#x27;b&#x27;</span><br></code></pre></td></tr></table></figure>
<h2 id="字典"><a href="#字典" class="headerlink" title="字典"></a>字典</h2><p>字典是无序的可变序列。保存的内容是以“键值对”的形式存放的。</p>
<p>类似于C++中的map。</p>
<p>特征：</p>
<blockquote>
<p>字典中的键值必须唯一，且不能够改变。所以列表不能作为字典的键。</p>
<p>字典是通过键值来读取的，字典也称为散列表(hash)。不能向序列那样通过索引获取值。</p>
<p>字典是无序集合，各项随机排列，这样能够提高查找的效率。</p>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs python">dict1 = &#123;<span class="hljs-string">&#x27;x&#x27;</span>:<span class="hljs-number">1</span>, <span class="hljs-string">&quot;y&quot;</span>:<span class="hljs-number">2</span>&#125;<br><br>print(<span class="hljs-built_in">type</span>(dict1)) <span class="hljs-comment">#&lt;class &#x27;dict&#x27;&gt;</span><br>print(dict1)       <span class="hljs-comment">#&#123;&#x27;x&#x27;: 1, &#x27;y&#x27;: 2&#125;</span><br><br>dict1[<span class="hljs-string">&#x27;z&#x27;</span>] = <span class="hljs-number">3</span><br>print(dict1)       <span class="hljs-comment">#&#123;&#x27;x&#x27;: 1, &#x27;y&#x27;: 2, &#x27;z&#x27;: 3&#125;</span><br><br><span class="hljs-comment"># 通过键值去遍历字典</span><br><span class="hljs-keyword">for</span> each_key <span class="hljs-keyword">in</span> dict1.keys():<br>    print(each_key + <span class="hljs-string">&quot;:&quot;</span> + <span class="hljs-built_in">str</span>(dict1[each_key]))<br>    <span class="hljs-comment"># x: 1</span><br>    <span class="hljs-comment"># y: 2</span><br>    <span class="hljs-comment"># z: 3</span><br><br><span class="hljs-comment">#遍历键值对列表</span><br><span class="hljs-keyword">for</span> item <span class="hljs-keyword">in</span> dict1.items():<br>    print(item)<br>    <span class="hljs-comment"># (&#x27;x&#x27;, 1)</span><br>    <span class="hljs-comment"># (&#x27;y&#x27;, 2)</span><br>    <span class="hljs-comment"># (&#x27;z&#x27;, 3)</span><br><br>dict1.clear()<br>print(dict1)       <span class="hljs-comment">#&#123;&#125;</span><br></code></pre></td></tr></table></figure>
<h3 id="字典推导式"><a href="#字典推导式" class="headerlink" title="字典推导式"></a>字典推导式</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># 普通方式</span><br>dict1 = &#123;<span class="hljs-string">&#x27;x&#x27;</span>:<span class="hljs-number">1</span>, <span class="hljs-string">&#x27;y&#x27;</span>:<span class="hljs-number">1</span>, <span class="hljs-string">&#x27;z&#x27;</span>:<span class="hljs-number">1</span>&#125;<br>print(dict1)    <span class="hljs-comment">#&#123;&#x27;x&#x27;: 1, &#x27;y&#x27;: 1, &#x27;z&#x27;: 1&#125;</span><br><br><span class="hljs-comment"># 字典推导式</span><br>str1 = <span class="hljs-string">&#x27;xyz&#x27;</span><br>dict2 = &#123;i:<span class="hljs-number">1</span> <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> str1&#125;<br>print(dict2)    <span class="hljs-comment">#&#123;&#x27;x&#x27;: 1, &#x27;y&#x27;: 1, &#x27;z&#x27;: 1&#125;</span><br></code></pre></td></tr></table></figure>
<h2 id="流程控制"><a href="#流程控制" class="headerlink" title="流程控制"></a>流程控制</h2><h3 id="条件语句"><a href="#条件语句" class="headerlink" title="条件语句"></a>条件语句</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs python">chineseZodiac = <span class="hljs-string">&quot;猴鸡狗猪鼠牛虎兔龙蛇马羊&quot;</span><br><br>year  = <span class="hljs-built_in">int</span>(<span class="hljs-built_in">input</span>(<span class="hljs-string">&#x27;请用户输入年份：&#x27;</span>))<br><br><span class="hljs-keyword">if</span> chineseZodiac[year%<span class="hljs-number">12</span>] == <span class="hljs-string">&#x27;狗&#x27;</span>:<br>    print(<span class="hljs-string">&quot;狗年发大财&quot;</span>)<br><span class="hljs-keyword">elif</span> chineseZodiac[year%<span class="hljs-number">12</span>] == <span class="hljs-string">&#x27;猪&#x27;</span>:<br>    print(<span class="hljs-string">&quot;猪年快乐&quot;</span>)<br><span class="hljs-keyword">else</span>:<br>    print(<span class="hljs-string">&quot;笑口常开&quot;</span>)<br></code></pre></td></tr></table></figure>
<h3 id="for循环"><a href="#for循环" class="headerlink" title="for循环"></a>for循环</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs python">chineseZodiac = <span class="hljs-string">&quot;猴鸡狗猪鼠牛虎兔龙蛇马羊&quot;</span><br><br><span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> chineseZodiac:<br>    print(i)<br><br><span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">13</span>):<br>    print(i) <span class="hljs-comment">#0-12</span><br><br><span class="hljs-keyword">for</span> year <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">2000</span>,<span class="hljs-number">2020</span>):<br>    print(<span class="hljs-string">&quot;%s 年的生肖是 %s&quot;</span> %(year,chineseZodiac[year%<span class="hljs-number">12</span>]))<br></code></pre></td></tr></table></figure>
<h3 id="while循环"><a href="#while循环" class="headerlink" title="while循环"></a>while循环</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">while</span> <span class="hljs-literal">True</span>:<br>    print(<span class="hljs-string">&#x27;a&#x27;</span>)<br>    <span class="hljs-keyword">break</span><br><br><span class="hljs-comment">###############</span><br><br>num = <span class="hljs-number">5</span><br><span class="hljs-keyword">while</span> <span class="hljs-literal">True</span>:<br>    print(num)<br>    num += <span class="hljs-number">1</span><br>    <span class="hljs-keyword">if</span> num &gt; <span class="hljs-number">10</span>:<br>        <span class="hljs-keyword">break</span><br><br><br><span class="hljs-comment">##########</span><br>num = <span class="hljs-number">5</span><br><span class="hljs-keyword">while</span> <span class="hljs-literal">True</span>:<br>    num += <span class="hljs-number">1</span><br>    <span class="hljs-keyword">if</span> num == <span class="hljs-number">10</span>:<br>        <span class="hljs-keyword">continue</span> <br>    print(num)<br>    <span class="hljs-keyword">if</span> num &gt; <span class="hljs-number">15</span>:<br>        <span class="hljs-keyword">break</span>;<br></code></pre></td></tr></table></figure>
<h3 id="👍元组中的filter"><a href="#👍元组中的filter" class="headerlink" title="👍元组中的filter"></a>👍元组中的filter</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs python">zodiac_name = (<span class="hljs-string">u&#x27;摩羯座&#x27;</span>,<span class="hljs-string">u&#x27;水瓶座&#x27;</span>,<span class="hljs-string">u&#x27;双鱼座&#x27;</span>,<span class="hljs-string">u&#x27;白羊座&#x27;</span>,<span class="hljs-string">u&#x27;金牛座&#x27;</span>,<span class="hljs-string">u&#x27;双子座&#x27;</span>,<br>               <span class="hljs-string">u&#x27;巨蟹座&#x27;</span>,<span class="hljs-string">u&#x27;狮子座&#x27;</span>,<span class="hljs-string">u&#x27;处女座&#x27;</span>,<span class="hljs-string">u&#x27;天秤座&#x27;</span>,<span class="hljs-string">u&#x27;天蝎座&#x27;</span>,<span class="hljs-string">u&#x27;射手座&#x27;</span>)<br>zodiac_day = ((<span class="hljs-number">1</span>,<span class="hljs-number">20</span>),(<span class="hljs-number">2</span>,<span class="hljs-number">19</span>),(<span class="hljs-number">3</span>,<span class="hljs-number">21</span>),(<span class="hljs-number">4</span>,<span class="hljs-number">21</span>),(<span class="hljs-number">5</span>,<span class="hljs-number">23</span>),(<span class="hljs-number">6</span>,<span class="hljs-number">22</span>),<br>              (<span class="hljs-number">7</span>,<span class="hljs-number">23</span>),(<span class="hljs-number">8</span>,<span class="hljs-number">23</span>),(<span class="hljs-number">9</span>,<span class="hljs-number">23</span>),(<span class="hljs-number">10</span>,<span class="hljs-number">23</span>),(<span class="hljs-number">11</span>,<span class="hljs-number">23</span>),(<span class="hljs-number">12</span>,<span class="hljs-number">23</span>))<br>(month,day) = (<span class="hljs-number">2</span>,<span class="hljs-number">11</span>)<br>zodiac = <span class="hljs-built_in">filter</span>(<span class="hljs-keyword">lambda</span> x: x&lt;=(month,day), zodiac_day)<br>zodiac_len = <span class="hljs-built_in">len</span>( <span class="hljs-built_in">list</span>(zodiac) ) <span class="hljs-comment"># 取出长度</span><br>print(zodiac_name[zodiac_len%<span class="hljs-number">12</span>]) <span class="hljs-comment">#水瓶座</span><br></code></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs python">zodiac_name = (<span class="hljs-string">u&#x27;摩羯座&#x27;</span>,<span class="hljs-string">u&#x27;水瓶座&#x27;</span>,<span class="hljs-string">u&#x27;双鱼座&#x27;</span>,<span class="hljs-string">u&#x27;白羊座&#x27;</span>,<span class="hljs-string">u&#x27;金牛座&#x27;</span>,<span class="hljs-string">u&#x27;双子座&#x27;</span>,<br>               <span class="hljs-string">u&#x27;巨蟹座&#x27;</span>,<span class="hljs-string">u&#x27;狮子座&#x27;</span>,<span class="hljs-string">u&#x27;处女座&#x27;</span>,<span class="hljs-string">u&#x27;天秤座&#x27;</span>,<span class="hljs-string">u&#x27;天蝎座&#x27;</span>,<span class="hljs-string">u&#x27;射手座&#x27;</span>)<br>zodiac_day = ((<span class="hljs-number">1</span>,<span class="hljs-number">20</span>),(<span class="hljs-number">2</span>,<span class="hljs-number">19</span>),(<span class="hljs-number">3</span>,<span class="hljs-number">21</span>),(<span class="hljs-number">4</span>,<span class="hljs-number">21</span>),(<span class="hljs-number">5</span>,<span class="hljs-number">23</span>),(<span class="hljs-number">6</span>,<span class="hljs-number">22</span>),<br>              (<span class="hljs-number">7</span>,<span class="hljs-number">23</span>),(<span class="hljs-number">8</span>,<span class="hljs-number">23</span>),(<span class="hljs-number">9</span>,<span class="hljs-number">23</span>),(<span class="hljs-number">10</span>,<span class="hljs-number">23</span>),(<span class="hljs-number">11</span>,<span class="hljs-number">23</span>),(<span class="hljs-number">12</span>,<span class="hljs-number">23</span>))<br><span class="hljs-comment"># 用户输入月份与日期</span><br>month = <span class="hljs-built_in">int</span>(<span class="hljs-built_in">input</span>(<span class="hljs-string">&quot;请输入月份：&quot;</span>))<br>day = <span class="hljs-built_in">int</span>(<span class="hljs-built_in">input</span>(<span class="hljs-string">&quot;请输入日期：&quot;</span>))<br><br><span class="hljs-keyword">for</span> zo <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-built_in">len</span>(zodiac_day)):<br>    <span class="hljs-keyword">if</span> (month,day) &lt;= zodiac_day[zo]:<br>        print(<span class="hljs-string">&quot;出生于%s月%s日的星座是%s&quot;</span> %(month,day,zodiac_name[zo]))<br>        <span class="hljs-keyword">break</span><br>    <span class="hljs-keyword">elif</span> month == <span class="hljs-number">12</span> <span class="hljs-keyword">and</span> day &gt; <span class="hljs-number">23</span>:<br>        print(<span class="hljs-string">&quot;出生于%s月%s日的星座是摩羯座&quot;</span> % (month, day))<br>        <span class="hljs-keyword">break</span><br></code></pre></td></tr></table></figure>
<h2 id="文件读取"><a href="#文件读取" class="headerlink" title="文件读取"></a>文件读取</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># ‘w&#x27;:文件不存在会新建、文件存在会覆盖</span><br>file1 = <span class="hljs-built_in">open</span>(<span class="hljs-string">&#x27;name.txt&#x27;</span>,<span class="hljs-string">&#x27;w&#x27;</span>)<br>file1.write(<span class="hljs-string">&quot;hello,Python&quot;</span>)<br>file1.close()<br><br><span class="hljs-comment"># 文件读取也叫做输入，文件写入也叫做输出</span><br><br><span class="hljs-comment"># &#x27;r&#x27;:文件不存在就报错</span><br>file2 = <span class="hljs-built_in">open</span>(<span class="hljs-string">&quot;name.txt&quot;</span>,<span class="hljs-string">&#x27;r&#x27;</span>)<br><span class="hljs-built_in">str</span> = file2.readline()<span class="hljs-comment">#读取一行</span><br>print(<span class="hljs-built_in">str</span>)<br>file2.close()<br><br><span class="hljs-comment"># &#x27;a&#x27;:append追加，文件不存在就新建，文件存在就将内容添加到末尾</span><br>file3 = <span class="hljs-built_in">open</span>(<span class="hljs-string">&quot;name.txt&quot;</span>,<span class="hljs-string">&quot;a&quot;</span>)<br>file3.write(<span class="hljs-string">&quot;你好/n哈哈&quot;</span>)<br>file3.close()<br><br><span class="hljs-comment"># readlines()读取多行，返回值是list</span><br>file4 = <span class="hljs-built_in">open</span>(<span class="hljs-string">&quot;name.txt&quot;</span>, <span class="hljs-string">&#x27;r&#x27;</span>)<br><span class="hljs-keyword">for</span> line <span class="hljs-keyword">in</span> file4.readlines():<br>    print(line)<br>    print(<span class="hljs-string">&quot;===&quot;</span>)<br><br><span class="hljs-comment"># 文件指针，使用tell()获得文件指针</span><br>file5 = <span class="hljs-built_in">open</span>(<span class="hljs-string">&quot;name.txt&quot;</span>,<span class="hljs-string">&#x27;r&#x27;</span>)<br>print(file5.tell()) <span class="hljs-comment">#指针位置为0</span><br>print(file5.read(<span class="hljs-number">1</span>)) <span class="hljs-comment">#打印第一个字符</span><br>print(file5.tell()) <span class="hljs-comment">#现在的指针位置为1</span><br><br>file5.seek(<span class="hljs-number">0</span>) <span class="hljs-comment">#文件指针回到0</span><br>print(file5.tell()) <span class="hljs-comment">#指针位置为0</span><br><br>file6 = <span class="hljs-built_in">open</span>(<span class="hljs-string">&quot;name.txt&quot;</span>,<span class="hljs-string">&#x27;r&#x27;</span>)<br>print(file6.tell())<span class="hljs-comment">#0</span><br>file6.seek(<span class="hljs-number">5</span>,<span class="hljs-number">0</span>)<br>print(file6.tell())<span class="hljs-comment">#5</span><br><br><span class="hljs-comment">#seek()函数有两个参数时，第一个参数代表偏移量，第二个参数代表从什么位置开始计算</span><br><span class="hljs-comment"># 对于第二个参数：0 表示从文件头开始计算， 1 表示从当前位置开始计算，2 表示从文件尾开始计算</span><br><span class="hljs-comment">#注意！如果在打开文件时，没有使用b模式，那么只允许从文件头开始计算相对偏移量</span><br></code></pre></td></tr></table></figure>
<h3 id="文件打开的三个参数"><a href="#文件打开的三个参数" class="headerlink" title="文件打开的三个参数"></a>文件打开的三个参数</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs python">file = <span class="hljs-built_in">open</span>(<span class="hljs-string">&quot;test.txt&quot;</span>,<span class="hljs-string">&#x27;r&#x27;</span>,encoding=<span class="hljs-string">&#x27;utf-8&#x27;</span>)<br></code></pre></td></tr></table></figure>
<p><img src="/Python/fileParam.png" srcset="/img/loading.gif"></p>
<h3 id="打开文件使用with语句–上下文管理器"><a href="#打开文件使用with语句–上下文管理器" class="headerlink" title="打开文件使用with语句–上下文管理器"></a>打开文件使用with语句–上下文管理器</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">with</span> <span class="hljs-built_in">open</span>(<span class="hljs-string">&quot;name.txt&quot;</span>,<span class="hljs-string">&#x27;r&#x27;</span>) <span class="hljs-keyword">as</span> file:<br>    <span class="hljs-keyword">for</span> line <span class="hljs-keyword">in</span> file.readlines():<br>        print(line)<br></code></pre></td></tr></table></figure>
<p>Python打开文件要及时关闭，忘记关闭可能会带来问题，另外如果在打开文件是出现了异常，那么将导致文件不能及时被关闭，为了避免此类问题，可以使用上述的with语句进行操作。</p>
<p>这样在处理文件时，无论是否抛出了异常，都能<strong>保证with语句执行完毕后关闭已经打开的文件</strong>。</p>
<h2 id="异常"><a href="#异常" class="headerlink" title="异常"></a>异常</h2><h3 id="常见异常"><a href="#常见异常" class="headerlink" title="常见异常"></a>常见异常</h3><p><img src="/Python/someError.png" srcset="/img/loading.gif"></p>
<h3 id="简单的异常处理语句"><a href="#简单的异常处理语句" class="headerlink" title="简单的异常处理语句"></a>简单的异常处理语句</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">try</span>:<br>    year = <span class="hljs-built_in">int</span>(<span class="hljs-built_in">input</span>(<span class="hljs-string">&quot;请输入年份:&quot;</span>))<br><span class="hljs-keyword">except</span> ValueError:<br>    print(<span class="hljs-string">&quot;年份应该输入数字&quot;</span>)<br><br>a = <span class="hljs-number">123</span><br><span class="hljs-keyword">try</span>:<br>    a.append(<span class="hljs-string">&#x27;a&#x27;</span>)<br><span class="hljs-keyword">except</span> AttributeError:<br>    print(<span class="hljs-string">&#x27;数字没有append方法&#x27;</span>)<br><br><span class="hljs-keyword">try</span>:<br>    print(<span class="hljs-number">1</span>/<span class="hljs-number">0</span>)<br><span class="hljs-keyword">except</span> ZeroDivisionError <span class="hljs-keyword">as</span> e:<br>    print(<span class="hljs-string">&#x27;0不能作为除数：&#x27;</span>,e) <span class="hljs-comment">#0不能作为除数： division by zero</span><br><br><span class="hljs-comment">#捕获未知类型的异常</span><br><span class="hljs-keyword">try</span>:<br>    print(<span class="hljs-number">1</span>/<span class="hljs-string">&#x27;a&#x27;</span>)<br><span class="hljs-keyword">except</span> Exception <span class="hljs-keyword">as</span> e:<br>    print(e)<br>   <br><span class="hljs-comment">#try...except...else语句</span><br><span class="hljs-keyword">try</span>:<br>    print(<span class="hljs-number">1</span>/<span class="hljs-number">1</span>)<br><span class="hljs-keyword">except</span> Exception <span class="hljs-keyword">as</span> e:<br>    print(e)<br><span class="hljs-keyword">else</span>:<br>    print(<span class="hljs-string">&quot;正常执行&quot;</span>)<br></code></pre></td></tr></table></figure>
<h3 id="try…except…finally语句"><a href="#try…except…finally语句" class="headerlink" title="try…except…finally语句"></a>try…except…finally语句</h3><p>finally语句用来放置无论是否发生异常都会被执行的代码。例如：打开文件是使用此语句，释放资源的代码放在finally语句之中。</p>
<p><img src="/Python/errFinally.png" srcset="/img/loading.gif"></p>
<h3 id="使用raise语句抛出异常"><a href="#使用raise语句抛出异常" class="headerlink" title="使用raise语句抛出异常"></a>使用raise语句抛出异常</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">div</span>():</span><br>    num1 = <span class="hljs-built_in">int</span>(<span class="hljs-built_in">input</span>(<span class="hljs-string">&#x27;请输入被除数：&#x27;</span>))<br>    num2 = <span class="hljs-built_in">int</span>(<span class="hljs-built_in">input</span>(<span class="hljs-string">&#x27;请输入除数：&#x27;</span>))<br>    <span class="hljs-keyword">if</span> num2 == <span class="hljs-number">0</span>:<br>        <span class="hljs-keyword">raise</span> ValueError(<span class="hljs-string">&quot;除数不能为0.&quot;</span>)<br>    result = num1 / num2<br>    print(result)<br><br><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&quot;__main__&quot;</span>:<br>    <span class="hljs-keyword">try</span>:<br>        div()<br>    <span class="hljs-keyword">except</span> ZeroDivisionError:<br>        print(<span class="hljs-string">&quot;\nerror!除数不能为0&quot;</span>)<br>    <span class="hljs-keyword">except</span> ValueError <span class="hljs-keyword">as</span> e:<br>        print(<span class="hljs-string">&quot;输入错误：&quot;</span>,e)<br></code></pre></td></tr></table></figure>
<p>如果某个函数或者方法可能会产生异常，但不想在当前函数或方法中处理这个异常，则可以使用raise语句在函数或者方法中抛出异常。</p>
<h3 id="assert断言语句"><a href="#assert断言语句" class="headerlink" title="assert断言语句"></a>assert断言语句</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">div</span>():</span><br>    num1 = <span class="hljs-built_in">int</span>(<span class="hljs-built_in">input</span>(<span class="hljs-string">&#x27;请输入被除数：&#x27;</span>))<br>    num2 = <span class="hljs-built_in">int</span>(<span class="hljs-built_in">input</span>(<span class="hljs-string">&#x27;请输入除数：&#x27;</span>))<br>    <span class="hljs-keyword">assert</span> num2 != <span class="hljs-number">0</span>, <span class="hljs-string">&quot;除数不能为0&quot;</span><br>    result = num1 / num2<br>    print(result)<br><br><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&quot;__main__&quot;</span>:<br>    <span class="hljs-keyword">try</span>:<br>        div()<br>    <span class="hljs-keyword">except</span> AssertionError <span class="hljs-keyword">as</span> e:<br>        print(<span class="hljs-string">&quot;\nerror！&quot;</span>,e)<br></code></pre></td></tr></table></figure>
<p>断言语句的基本格式为</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">assert</span> expression , reason<br><br>expression:是条件表达式，表达式为<span class="hljs-literal">True</span>时什么都不做，为<span class="hljs-literal">False</span>时抛出AssertionError异常。<br>reason：描述异常信息，可写可不写<br></code></pre></td></tr></table></figure>
<h2 id="函数"><a href="#函数" class="headerlink" title="函数"></a>函数</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment">#统计单词出现次数</span><br><br><span class="hljs-keyword">import</span> re <span class="hljs-comment">#一个模块</span><br><br><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">find_word</span>(<span class="hljs-params">word</span>):</span><br>    <span class="hljs-keyword">with</span> <span class="hljs-built_in">open</span>(<span class="hljs-string">&#x27;Stone.txt&#x27;</span>,encoding=<span class="hljs-string">&#x27;GBK&#x27;</span>) <span class="hljs-keyword">as</span> f:<br>        data = f.read().replace(<span class="hljs-string">&#x27;\n&#x27;</span>,<span class="hljs-string">&#x27;&#x27;</span>)<br>        words = re.findall(word, data) <span class="hljs-comment">#函数的返回值时list</span><br>    <span class="hljs-keyword">return</span> <span class="hljs-built_in">len</span>(words)<br><br><br><span class="hljs-comment">#读取人物信息</span><br><span class="hljs-keyword">with</span> <span class="hljs-built_in">open</span>(<span class="hljs-string">&quot;name.txt&quot;</span>) <span class="hljs-keyword">as</span> f:<br>        words = f.read().split(<span class="hljs-string">&#x27;|&#x27;</span>)<br>        <span class="hljs-keyword">for</span> w <span class="hljs-keyword">in</span> words:<br>            print(<span class="hljs-string">&quot;&#x27;&quot;</span>,w,<span class="hljs-string">&quot;&#x27;&quot;</span>,<span class="hljs-string">&#x27;出现了：&#x27;</span>,find_word(w))<br><span class="hljs-comment"># &#x27; 密苏里 &#x27; 出现了： 3</span><br><span class="hljs-comment"># &#x27; 他 &#x27; 出现了： 17</span><br><span class="hljs-comment"># &#x27; 斯通纳 &#x27; 出现了： 6</span><br><span class="hljs-comment"># &#x27; 的 &#x27; 出现了： 52</span><br></code></pre></td></tr></table></figure>
<h3 id="定义函数"><a href="#定义函数" class="headerlink" title="定义函数"></a>定义函数</h3><figure class="highlight delphi"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs delphi">def <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(形参列表)</span>:</span><br>	函数体<br></code></pre></td></tr></table></figure>
<p>如上所示，使用<code>def</code>来定义一个函数，如果函数有返回值的时候可以通过<code>return</code>语句返回。如若想定义一个空函数的画，可以使用<code>pass</code>作为占位符。</p>
<p>当函数中没有return语句时，或者省略了return语句后面的内容，将会返回<code>None</code>，即<strong>返回空值</strong>。</p>
<h3 id="参数传递"><a href="#参数传递" class="headerlink" title="参数传递"></a>参数传递</h3><p>Python参数传递分为值传递和引用传递两种。</p>
<ul>
<li>当实参是<strong>不可变对象</strong>时，进行的是<strong>值传递</strong>。</li>
<li>当实参为<strong>可变对象</strong>是，进行的是<strong>引用传递</strong>。</li>
</ul>
<p>区别在于：</p>
<p><strong>值传递</strong>在函数内改变了形参的值，实参的值也<strong>不变</strong>。</p>
<p>而<strong>引用传递</strong>后，改变形参的值，实参的值也会一同<strong>改变</strong>。</p>
<blockquote>
<p>字符串就是不可变对象，而列表就是可变对象。</p>
</blockquote>
<h3 id="参数种类"><a href="#参数种类" class="headerlink" title="参数种类"></a>参数种类</h3><ul>
<li><strong>位置参数</strong>，也叫必备参数。即使用函数时要按照形参列表的正确顺序与数量进行使用。</li>
<li><strong>关键字参数</strong>。使用形参的名字来确定输入的参数值。打开文件时指定编码就是使用关键字参数：<code>open(&#39;test.txt&#39;,encoding=&#39;GBK&#39;)</code></li>
<li><strong>有默认值的参数</strong>。在定义函数时直接指定形参的默认值。这样没有参数传递时就会直接使用默认值。<ul>
<li>例如定义函数 <code>def func(filename, lenth = 5)</code></li>
<li>定义函数时指定的默认参数要写在所有形参的<strong>最后面</strong>。</li>
<li>可以使用 <code>函数名.__defaults__</code> 的形式查看函数的默认值参数，结果是元组。</li>
<li>此外当使用可变参数作为函数参数默认值时，多次调用可能会导致意外，所以最好将可变参数的默认值设置为<code>None</code>，<strong>默认参数必须要指向不可变对象</strong>。</li>
</ul>
</li>
<li><strong>可变参数</strong>。即不定长参数，可以传递的值是0个或者任意个。<ul>
<li>第一种形式：**<code>*parameter</code>**。接受任意多的参数并放到一个元组之中。如果若要把一个存在的列表作为参数传递进去，可以使用 <code>*列表名称</code> 作为参数传递。</li>
<li>第二种形式：<code>**parameter</code>。接受任意多个<strong>显式赋值</strong>的实际参数，并将其放到<strong>字典</strong>中。如果若要把一个存在的字典作为参数传递进去，可以使用 <code>**字典名称</code> 作为参数传递。</li>
</ul>
</li>
</ul>
<h3 id="变量作用域"><a href="#变量作用域" class="headerlink" title="变量作用域"></a>变量作用域</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># 全局变量在函数内外都可以访问的到</span><br><span class="hljs-built_in">sum</span> = <span class="hljs-number">123</span><br><br><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">func</span>():</span><br>    print(<span class="hljs-built_in">sum</span>)<br><br>func()     <span class="hljs-comment">#123</span><br>print(<span class="hljs-built_in">sum</span>) <span class="hljs-comment">#123</span><br><br><span class="hljs-comment"># 局部变量与全局变量重名时</span><br><span class="hljs-built_in">sum</span> = <span class="hljs-number">123</span><br><br><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">func</span>():</span><br>    <span class="hljs-built_in">sum</span> =  <span class="hljs-number">456</span><br>    print(<span class="hljs-built_in">sum</span>)<br><br>func()	   <span class="hljs-comment">#456</span><br>print(<span class="hljs-built_in">sum</span>) <span class="hljs-comment">#123</span><br><br><span class="hljs-comment"># 可以在函数体内声明一个全局变量</span><br><span class="hljs-built_in">sum</span> = <span class="hljs-number">123</span><br><br><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">func</span>():</span><br>    <span class="hljs-keyword">global</span> <span class="hljs-built_in">sum</span><br>    <span class="hljs-built_in">sum</span> =  <span class="hljs-number">456</span><br>    print(<span class="hljs-built_in">sum</span>)<br><br>func()     <span class="hljs-comment">#456</span><br>print(<span class="hljs-built_in">sum</span>) <span class="hljs-comment">#456</span><br></code></pre></td></tr></table></figure>
<h3 id="👍迭代器、生成器与iter函数"><a href="#👍迭代器、生成器与iter函数" class="headerlink" title="👍迭代器、生成器与iter函数"></a>👍迭代器、生成器与iter函数</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs python">list1 = [<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>]<br>it = <span class="hljs-built_in">iter</span>(list1)<br>print(<span class="hljs-built_in">next</span>(it))<br>print(<span class="hljs-built_in">next</span>(it))<br>print(<span class="hljs-built_in">next</span>(it))<br><span class="hljs-comment"># print(next(it)) #error</span><br><br><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">frange</span>(<span class="hljs-params">start,stop,step</span>):</span><br>    x = start<br>    <span class="hljs-keyword">while</span> x &lt; stop:<br>        <span class="hljs-keyword">yield</span> x<br>        x += step<br><br><span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> frange(<span class="hljs-number">10</span>,<span class="hljs-number">20</span>,<span class="hljs-number">0.5</span>):<br>    print(i)<br></code></pre></td></tr></table></figure>
<p><a target="_blank" rel="noopener" href="https://www.cnblogs.com/Micro0623/p/9950528.html">Python：迭代器、生成器（yield）、iter函数</a></p>
<p>只要函数里有 <code>__iter__</code> 以及 <code>__next__</code> 的这种方法就可以使用 <code>for...in...</code> 的形式以及 <code>next </code>形式去取迭代值。</p>
<h3 id="匿名函数–lambda表达式"><a href="#匿名函数–lambda表达式" class="headerlink" title="匿名函数–lambda表达式"></a>匿名函数–lambda表达式</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">true</span>():</span><br>    <span class="hljs-keyword">return</span> <span class="hljs-literal">True</span><br><br><span class="hljs-comment">#对应的lambda表达式</span><br><span class="hljs-keyword">lambda</span> : <span class="hljs-literal">True</span><br><br><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">add</span>(<span class="hljs-params">x,y</span>):</span><br>    <span class="hljs-keyword">return</span> x+y<br><br><span class="hljs-comment">#对应的lambda表达式</span><br><span class="hljs-keyword">lambda</span> x,y : x+y<br></code></pre></td></tr></table></figure>
<p><code>:</code> 之前写函数的参数，冒号之后写实现具体功能的表达式。此外一定要有一个变量去接受或者去调用这个lambda表达式。</p>
<h3 id="常用的Python内置函数"><a href="#常用的Python内置函数" class="headerlink" title="常用的Python内置函数"></a>常用的Python内置函数</h3><p><img src="/Python/function1.png" srcset="/img/loading.gif"></p>
<p><img src="/Python/function2.png" srcset="/img/loading.gif"></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><code class="hljs python">a = [<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>,<span class="hljs-number">4</span>,<span class="hljs-number">5</span>,<span class="hljs-number">6</span>,<span class="hljs-number">7</span>]<br>list1 = <span class="hljs-built_in">list</span>(<span class="hljs-built_in">filter</span>(<span class="hljs-keyword">lambda</span> x:x&gt;<span class="hljs-number">2</span>, a))<br>print(list1) <span class="hljs-comment">#[3, 4, 5, 6, 7]</span><br><br>a = [<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>,<span class="hljs-number">4</span>,<span class="hljs-number">5</span>,<span class="hljs-number">6</span>,<span class="hljs-number">7</span>]<br>list2 = <span class="hljs-built_in">list</span>(<span class="hljs-built_in">map</span>(<span class="hljs-keyword">lambda</span> x:x+<span class="hljs-number">1</span>, a))<br>print(list2) <span class="hljs-comment">#[2, 3, 4, 5, 6, 7, 8]</span><br><br>b = [<span class="hljs-number">7</span>,<span class="hljs-number">7</span>,<span class="hljs-number">7</span>,<span class="hljs-number">7</span>,<span class="hljs-number">7</span>,<span class="hljs-number">7</span>,<span class="hljs-number">7</span>]<br>list3 = <span class="hljs-built_in">list</span>(<span class="hljs-built_in">map</span>(<span class="hljs-keyword">lambda</span> x,y:x+y, a,b))<br>print(list3) <span class="hljs-comment">#[8, 9, 10, 11, 12, 13, 14]</span><br><br><span class="hljs-comment">#reduce 对参数序列中元素进行累积。</span><br><span class="hljs-keyword">from</span> functools <span class="hljs-keyword">import</span> reduce<br>print(reduce(<span class="hljs-keyword">lambda</span> x,y:x+y,[<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>,<span class="hljs-number">4</span>])) <span class="hljs-comment">#10</span><br><br><br>a = (<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>)<br>b = (<span class="hljs-number">4</span>,<span class="hljs-number">5</span>,<span class="hljs-number">6</span>)<br><span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">zip</span>(a,b):<br>    print(i)<br>    <br><span class="hljs-comment"># (1, 4)</span><br><span class="hljs-comment"># (2, 5)</span><br><span class="hljs-comment"># (3, 6)</span><br><br><span class="hljs-comment">#使用zip将字典的键值进行对调</span><br>dict1 = &#123;<span class="hljs-string">&#x27;a&#x27;</span>:<span class="hljs-number">22</span>, <span class="hljs-string">&#x27;b&#x27;</span>:<span class="hljs-number">33</span>&#125;<br>dict2 = <span class="hljs-built_in">dict</span>(<span class="hljs-built_in">zip</span>(dict1.values(), dict1.keys()))<br>print(dict2) <span class="hljs-comment">#&#123;22: &#x27;a&#x27;, 33: &#x27;b&#x27;&#125;</span><br></code></pre></td></tr></table></figure>
<h3 id="闭包"><a href="#闭包" class="headerlink" title="闭包"></a>闭包</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment">#定义一个函数，内部还有一个函数，外部函数的返回值是内部函数的名字</span><br><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">func</span>():</span><br>    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">printa</span>():</span><br>        print(<span class="hljs-string">&quot;start&quot;</span>)<br><br>    <span class="hljs-keyword">return</span> printa<br><br><br>func() <span class="hljs-comment">#不会执行，无结果</span><br>print(func()) <span class="hljs-comment">#&lt;function func.&lt;locals&gt;.printa at 0x0000014DA9557D90&gt;</span><br>print(<span class="hljs-built_in">type</span>(func())) <span class="hljs-comment">#&lt;class &#x27;function&#x27;&gt;</span><br><br>a = func()<br>a()  <span class="hljs-comment">#执行函数内容：start</span><br></code></pre></td></tr></table></figure>
<blockquote>
<p>闭包是由函数及其相关的引用环境组合而成的实体。</p>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">ExFunc</span>(<span class="hljs-params">n</span>):</span><br>    <span class="hljs-built_in">sum</span> = n<br>    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">InsFunc</span>():</span><br>        <span class="hljs-keyword">return</span> <span class="hljs-built_in">sum</span>+<span class="hljs-number">1</span><br><br>    <span class="hljs-keyword">return</span> addFun<br><br>myFun1 = ExFunc(<span class="hljs-number">10</span>)<br>sums = myFun1()<br>print(sums) <span class="hljs-comment">#11</span><br><br>myFun2 = ExFunc(<span class="hljs-number">100</span>)<br>sumss = myFun2()<br>print(sumss) <span class="hljs-comment">#101</span><br></code></pre></td></tr></table></figure>
<p>当调用函数分别传入不同的参数的时候，得到的结果<code>myFun1</code>与<code>myFun2</code>这两个是<strong>隔离的</strong>，也就是说每次调用<code>ExFunc()</code>函数后都将生成并且保存一个新的局部变量sum。</p>
<blockquote>
<p> 按照命令式语言的规则，ExFunc函数只是返回了内嵌函数InsFunc的地址，在执行InsFunc函数时将会由于在其作用域内找不到sum变量而出 错。而在函数式语言中，当内嵌函数体内引用到体外的变量时，将会把定义时涉及到的引用环境和函数体打包成一个整体（闭包）返回。现在给出引用环境的定义就 容易理解了：引用环境是指在程序执行中的某个点所有处于活跃状态的约束（一个变量的名字和其所代表的对象之间的联系）所组成的集合。闭包的使用和正常的函 数调用没有区别。</p>
<p> 由于<strong>闭包把函数和运行时的引用环境打包成为一个新的整体</strong>，所以就解决了函数编程中的嵌套所引发的问题。如上述代码段中，当每次调用ExFunc函数 时都将返回<strong>一个新的闭包实例</strong>，这些实例之间是隔离的，分别包含调用时不同的引用环境现场。不同于函数，闭包在运行时可以有多个实例，不同的引用环境和相同 的函数组合可以产生不同的实例。</p>
<p> <strong>闭包=函数块+定义函数时的环境</strong></p>
<p> 引用自博客：<a target="_blank" rel="noopener" href="https://zm.sm-tc.cn/?src=l4uLj4zF0NCIiIjRnJGdk5CYjNGckJLQtZCXkb69vNCejYuWnJOajNDLz8jJx8rK0ZeLkpM=&uid=0d895671b892663235a72f9f68411071&hid=952719fcaaacd90a8e3ae3928bf535f0&pos=4&cid=9&time=1566288676511&from=click&restype=1&pagetype=0020000002000408&bu=news_natural&query=python+%E5%87%BD%E6%95%B0%E9%97%AD%E5%8C%85&mode=&v=1&force=true&wap=false&uc_param_str=dnntnwvepffrgibijbprsvdsdichei">Python-闭包详解</a></p>
<p> 并且一个常见的闭包错误以及python对应的解决方式：<a target="_blank" rel="noopener" href="https://blog.csdn.net/u012881331/article/details/82881083">python nonloacal</a></p>
</blockquote>
<h3 id="闭包的实际小案例"><a href="#闭包的实际小案例" class="headerlink" title="闭包的实际小案例"></a>闭包的实际小案例</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment">#计数器</span><br><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">counter</span>():</span><br>    cnt = [<span class="hljs-number">0</span>]<br>    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">add_one</span>():</span><br>        cnt[<span class="hljs-number">0</span>] += <span class="hljs-number">1</span><br>        <span class="hljs-keyword">return</span> cnt[<span class="hljs-number">0</span>]<br>    <span class="hljs-keyword">return</span> add_one<br><br>num1 = counter()<br><br><span class="hljs-comment">#每执行一次函数 计数器+1</span><br>print(num1()) <span class="hljs-comment">#1</span><br>print(num1()) <span class="hljs-comment">#2</span><br>print(num1()) <span class="hljs-comment">#3</span><br>print(num1()) <span class="hljs-comment">#4</span><br></code></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment">#计算 y = a*x+b</span><br><br><span class="hljs-comment">#普通函数的写法</span><br><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">yyy</span>(<span class="hljs-params">a,b,x</span>):</span><br>    <span class="hljs-keyword">return</span> a*x+b<br><br>y = yyy(<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">5</span>)<br>print(y)<br><br>y = yyy(<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">6</span>)<br>print(y)<br><br><span class="hljs-comment">#闭包的写法</span><br><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">yyy</span>(<span class="hljs-params">a,b</span>):</span><br>    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">argy</span>(<span class="hljs-params">x</span>):</span><br>        <span class="hljs-keyword">return</span> a*x + b<br>    <span class="hljs-keyword">return</span> argy<br><br>y1 = yyy(<span class="hljs-number">1</span>,<span class="hljs-number">2</span>)<br>ends = y1(<span class="hljs-number">5</span>)<br>print(ends)<br><br>end2 = y1(<span class="hljs-number">6</span>)<br>print(end2)<br></code></pre></td></tr></table></figure>
<p>如上所示，对于计算一阶函数时，想要固定a,b的值而只改变x的值的时候就可以采用这种方式，简化代码。</p>
<h3 id="装饰器"><a href="#装饰器" class="headerlink" title="装饰器"></a>装饰器</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> time<br><br><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">iSleep</span>():</span><br>    time.sleep(<span class="hljs-number">2</span>)<br><br>start_time = time.time()<br><br>iSleep()<br><br>end_time = time.time()<br><br>print(<span class="hljs-string">&#x27;使用时间:&#x27;</span>,end_time-start_time)<br></code></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> time<br><br><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">timmer</span>(<span class="hljs-params">func</span>):</span><br>    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">wrapper</span>():</span><br>        start_time = time.time()<br>        func()<br>        end_time = time.time()<br>        print(<span class="hljs-string">&#x27;使用时间:&#x27;</span>, end_time - start_time)<br>    <span class="hljs-keyword">return</span> wrapper<br><br><span class="hljs-meta">@timmer</span><br><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">iSleep</span>():</span><br>    time.sleep(<span class="hljs-number">2</span>)<br><br><br><span class="hljs-comment">#执行</span><br>iSleep()<br></code></pre></td></tr></table></figure>
<blockquote>
<p>我们注意到装饰器可以使用def来定义，装饰器接收一个函数对象作为参数，并返回一个新的函数对象。装饰器通过名称绑定，让同一个变量名指向一个新返回的函数对象，这样就达到修改函数对象的目的。在使用装饰器时，我们通常会在新函数内部调用旧函数，以保留旧函数的功能，这正是“装饰”一词的由来。在定义好装饰器以后，就可以使用@语法了，其实际意义时，将被修饰对象作为参数传递给装饰器函数，然后将装饰器函数返回的函数对象赋给原来的被修饰对象。装饰器可以实现代码的可复用性，即我们可以用同一个装饰器修饰多个函数，以便实现相同的附加功能。</p>
<p>参看链接：<a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/33641635">深入浅出理解Python装饰器</a></p>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">tips</span>(<span class="hljs-params">func</span>):</span><br>    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">nei</span>(<span class="hljs-params">a,b</span>):</span><br>        print(<span class="hljs-string">&#x27;start&#x27;</span>)<br>        func(a,b)<br>        print(<span class="hljs-string">&#x27;end&#x27;</span>)<br><br>    <span class="hljs-keyword">return</span> nei<br><br><span class="hljs-meta">@tips</span><br><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">add</span>(<span class="hljs-params">a,b</span>):</span><br>    print(a+b)<br><br><span class="hljs-meta">@tips</span><br><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">sub</span>(<span class="hljs-params">a,b</span>):</span><br>    print(a-b)<br><br>add(<span class="hljs-number">1</span>,<span class="hljs-number">2</span>)<br>sub(<span class="hljs-number">5</span>,<span class="hljs-number">3</span>)<br><br><span class="hljs-comment">##################</span><br><br><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">new_tips</span>(<span class="hljs-params">argv</span>):</span><br>    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">tips</span>(<span class="hljs-params">func</span>):</span><br>        <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">nei</span>(<span class="hljs-params">a,b</span>):</span><br>            print(<span class="hljs-string">&#x27;start:&#x27;</span>,argv)<br>            func(a,b)<br>            print(<span class="hljs-string">&#x27;end:&#x27;</span>,argv)<br><br>        <span class="hljs-keyword">return</span> nei<br>    <span class="hljs-keyword">return</span> tips<br><br><span class="hljs-meta">@new_tips(<span class="hljs-params"><span class="hljs-string">&#x27;add&#x27;</span></span>)</span><br><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">add</span>(<span class="hljs-params">a,b</span>):</span><br>    print(a+b)<br><br><span class="hljs-meta">@new_tips(<span class="hljs-params"><span class="hljs-string">&#x27;sub&#x27;</span></span>)</span><br><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">sub</span>(<span class="hljs-params">a,b</span>):</span><br>    print(a-b)<br><br>add(<span class="hljs-number">1</span>,<span class="hljs-number">2</span>)<br>sub(<span class="hljs-number">5</span>,<span class="hljs-number">3</span>)<br></code></pre></td></tr></table></figure>
<h2 id="类与对象"><a href="#类与对象" class="headerlink" title="类与对象"></a>类与对象</h2><p><strong>Python中一切都是对象，甚至字符串、函数等都是对象。</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment">#定义一个类</span><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Player</span>:</span><br>    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">__init__</span>(<span class="hljs-params">self, name, hp</span>):</span><br>        self.name = name<br>        self.hp = hp<br>    <span class="hljs-comment">#定义一个方法</span><br>    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">print_role</span>(<span class="hljs-params">self</span>):</span><br>        print(self.name, <span class="hljs-string">&#x27;:&#x27;</span>, self.hp)<br><br><span class="hljs-comment">#类的实例化</span><br>user1 = Player(<span class="hljs-string">&#x27;tom&#x27;</span>, <span class="hljs-number">100</span>)<br>user2 = Player(<span class="hljs-string">&#x27;Bob&#x27;</span>, <span class="hljs-number">200</span>)<br><br>user1.print_role();<br>user2.print_role();<br></code></pre></td></tr></table></figure>
<h3 id="init-方法与self参数"><a href="#init-方法与self参数" class="headerlink" title="__init__()方法与self参数"></a><code>__init__()</code>方法与self参数</h3><p><code>__init__</code>方法是构造方法，每当创建一个类的实例的时候Python就会自动执行他。</p>
<p>这种函数名写法用于区分Python的默认方法和普通方法。</p>
<p>self参数是指向实例本身的引用，用于访问类中的属性和方法，在方法调用的时候就会自动传递参数self。(类似于C++类中的this)</p>
<p>类中方法的第一个参数一定要是self。(self只是约定的名字，其他名字也行)</p>
<h3 id="类的成员"><a href="#类的成员" class="headerlink" title="类的成员"></a>类的成员</h3><p>类的成员由<strong>实例方法</strong>和<strong>数据成员</strong>组成。</p>
<p>数据成员是指类中定义的变量，即类的属性。</p>
<p>而类的属性根据其所在位置的不同又分为<strong>类属性</strong>和<strong>实例属性</strong>。</p>
<ul>
<li><strong>类属性</strong>：定义在类中，定义在类的实例方法之外的属性。<ul>
<li>类属性在类的所有实例之间共享，即所有实例化对象共用此属性。</li>
<li>类属性可以通过类名调用，或者通过实例名进行访问</li>
<li>类似于C++类中的static变量</li>
</ul>
</li>
<li><strong>实例属性</strong>：定义在类的方法中的属性。<ul>
<li>实例属性只能通过实例名进行访问。</li>
<li>不同实例的实例属性之间互不影响。</li>
</ul>
</li>
</ul>
<h3 id="访问权限"><a href="#访问权限" class="headerlink" title="访问权限"></a>访问权限</h3><p>Python中通过给属性或者方法的名字前面添加<strong>单下划线</strong>、<strong>双下划线</strong>、<strong>首尾双下划线</strong>的方式来限制类中属性和方法的访问权限。</p>
<ul>
<li><strong>首尾双下划线</strong>：表示定义特殊方法，一般是系统定义名字。比如：<code>__init__()</code>方法</li>
<li><strong>单下划线开头</strong>：表示<strong>protected</strong>（保护）类型的成员，<strong>只允许类本身和子类访问</strong>，但不能使用”from modules import *”这种语句导入。比如：自定义属性 <code>_foo</code></li>
<li><strong>双下划线开头</strong>：表示<strong>private</strong>（私有）成员。<strong>只允许定义该方法的类本身进行访问</strong>，不能直接通过类的实例进行访问，但是可以通过”类的实例名._类名_xxx”的方式访问。</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Swan</span>:</span><br>    <span class="hljs-comment">#定义保护成员</span><br>    _neckSwan = <span class="hljs-string">&#x27;天鹅的脖子很长&#x27;</span><br>    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">__init__</span>(<span class="hljs-params">self</span>):</span><br>        print(<span class="hljs-string">&quot;__init__()&quot;</span>,self._neckSwan)<br><br>swan = Swan()<br>print(<span class="hljs-string">&#x27;直接访问&#x27;</span>,swan._neckSwan)<br><br><span class="hljs-comment">##########</span><br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Swan</span>:</span><br>    <span class="hljs-comment">#定义私有成员</span><br>    __neckSwan = <span class="hljs-string">&#x27;天鹅的脖子很长&#x27;</span><br>    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">__init__</span>(<span class="hljs-params">self</span>):</span><br>        print(<span class="hljs-string">&quot;__init__()&quot;</span>,self.__neckSwan)<br><br>swan = Swan()<br>print(<span class="hljs-string">&#x27;直接访问&#x27;</span>,swan._Swan__neckSwan)<br></code></pre></td></tr></table></figure>
<h3 id="类的继承"><a href="#类的继承" class="headerlink" title="类的继承"></a>类的继承</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Fruit</span>:</span><br>    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">__init__</span>(<span class="hljs-params">self, color</span>):</span><br>        self.color = color<br>        print(<span class="hljs-string">&#x27;我是水果&#x27;</span>)<br>    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">havest</span>(<span class="hljs-params">self</span>):</span><br>        print(<span class="hljs-string">&#x27;水果是&#x27;</span>, self.color, <span class="hljs-string">&#x27;色的&#x27;</span>)<br><br><br><span class="hljs-comment">#类Orange，子类，继承于Fruit类</span><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Orange</span>(<span class="hljs-params">Fruit</span>):</span><br>    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">__init__</span>(<span class="hljs-params">self</span>):</span><br>        <span class="hljs-comment"># super(Orange, self).__init__()</span><br>        <span class="hljs-comment"># 调用基类的初始化方法</span><br>        <span class="hljs-built_in">super</span>().__init__(<span class="hljs-string">&#x27;橙&#x27;</span>)<br>        print(<span class="hljs-string">&#x27;我是Orange&#x27;</span>)<br><br>    <span class="hljs-comment">#重写方法</span><br>    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">havest</span>(<span class="hljs-params">self</span>):</span><br>        print(<span class="hljs-string">&#x27;橙子是&#x27;</span>, self.color, <span class="hljs-string">&#x27;色的&#x27;</span>)<br><br>orange = Orange()<br>orange.havest()<br><br><span class="hljs-comment">####输出</span><br><span class="hljs-comment">#我是水果</span><br><span class="hljs-comment">#我是Orange</span><br><span class="hljs-comment">#橙子是 橙 色的</span><br></code></pre></td></tr></table></figure>
<ul>
<li>当要继承多个父类的时候，在小括号内类名用逗号分隔开</li>
<li>如果不指定时，默认继承于所有Python对象的基类Object</li>
</ul>
<h3 id="判断实例与类的关系"><a href="#判断实例与类的关系" class="headerlink" title="判断实例与类的关系"></a>判断实例与类的关系</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs python">print(<span class="hljs-built_in">type</span>(orange))               <span class="hljs-comment">#&lt;class &#x27;__main__.Orange&#x27;&gt;</span><br>print(<span class="hljs-built_in">isinstance</span>(orange, Orange)) <span class="hljs-comment">#True</span><br>print(<span class="hljs-built_in">isinstance</span>(orange, Fruit))  <span class="hljs-comment">#True</span><br></code></pre></td></tr></table></figure>
<h3 id="property-装饰器"><a href="#property-装饰器" class="headerlink" title="@property(装饰器)"></a>@property(装饰器)</h3><p>在Python中可以通过 <code>@property</code>(装饰器) 将一个方法转换为属性，从而实现用于计算的属性。</p>
<p>将方法转换为属性之后，可以直接通过方法名来访问方法，不再需要小括号<code>()</code></p>
<ul>
<li>通过 @property 转换的属性不能够直接赋值，否则会报错</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Rect</span>:</span><br>    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">__init__</span>(<span class="hljs-params">self, width, heigh</span>):</span><br>        self.width = width<br>        self.heigh = heigh<br><br><span class="hljs-meta">    @property</span><br>    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">area</span>(<span class="hljs-params">self</span>):</span><br>        <span class="hljs-keyword">return</span> self.width * self.heigh<br><br>rect = Rect(<span class="hljs-number">640</span>, <span class="hljs-number">480</span>)<br>print(<span class="hljs-string">&#x27;面积为：&#x27;</span>, rect.area)<br><span class="hljs-comment">#print(&#x27;面积为：&#x27;, rect.area()) # 执行错误</span><br>                               <span class="hljs-comment"># TypeError: &#x27;int&#x27; object is not callable</span><br></code></pre></td></tr></table></figure>
<h3 id="property-装饰器-创建只读但不能修改的属性"><a href="#property-装饰器-创建只读但不能修改的属性" class="headerlink" title="@property(装饰器)创建只读但不能修改的属性"></a>@property(装饰器)创建只读但不能修改的属性</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">TVshow</span>:</span><br>    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">__init__</span>(<span class="hljs-params">self, show</span>):</span><br>        self.__show = show<br><br><span class="hljs-meta">    @property</span><br>    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">show</span>(<span class="hljs-params">self</span>):</span><br>        <span class="hljs-keyword">return</span> self.__show<br><br>tvshow = TVshow(<span class="hljs-string">&#x27;哪吒传奇之魔童降世&#x27;</span>)<br><br><span class="hljs-comment"># print(tvshow.__show) 错误</span><br><span class="hljs-comment"># print(tvshow.show()) 错误</span><br>print(tvshow.show)<br></code></pre></td></tr></table></figure>
<h3 id="自定义with语句"><a href="#自定义with语句" class="headerlink" title="自定义with语句"></a>自定义with语句</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Testwith</span>:</span><br>    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">__enter__</span>(<span class="hljs-params">self</span>):</span><br>        print(<span class="hljs-string">&#x27;开始&#x27;</span>)<br>    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">__exit__</span>(<span class="hljs-params">self, exc_type, exc_val, exc_tb</span>):</span><br>        <span class="hljs-keyword">if</span> exc_tb <span class="hljs-keyword">is</span> <span class="hljs-literal">None</span>:<br>            print(<span class="hljs-string">&#x27;正常结束&#x27;</span>)<br>        <span class="hljs-keyword">else</span>:<br>            print(<span class="hljs-string">&#x27;出现异常 %s&#x27;</span> %(exc_tb))<br><br><span class="hljs-keyword">with</span> Testwith():<br>    print(<span class="hljs-string">&#x27;测试自定义with语句&#x27;</span>)<br>    <span class="hljs-keyword">raise</span> Exception(<span class="hljs-string">&#x27;手动出现异常&#x27;</span>)<br>    <br><span class="hljs-comment">#####  结果</span><br><span class="hljs-comment"># 开始</span><br><span class="hljs-comment"># Traceback (most recent call last):</span><br><span class="hljs-comment"># 测试自定义with语句</span><br><span class="hljs-comment"># 出现异常 &lt;traceback object at 0x000002618D1AC188&gt;</span><br><span class="hljs-comment">#   File &quot;E:/Code/Python/test/mywith.py&quot;, line 12, in &lt;module&gt;</span><br><span class="hljs-comment">#     raise Exception(&#x27;手动出现异常&#x27;)</span><br><span class="hljs-comment"># Exception: 手动出现异常</span><br></code></pre></td></tr></table></figure>
<h2 id="模块"><a href="#模块" class="headerlink" title="模块"></a>模块</h2><figure class="highlight xl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs xl">#<span class="hljs-keyword">import</span> 模块名称<br><span class="hljs-keyword">import</span> <span class="hljs-built_in">time</span><br><br>#<span class="hljs-keyword">import</span> 模块名称 <span class="hljs-keyword">as</span> 重命名<br><span class="hljs-keyword">import</span> matplotlib <span class="hljs-keyword">as</span> m<br><br>#from 模块名称 <span class="hljs-keyword">import</span> 方法名<br><span class="hljs-keyword">import</span> <span class="hljs-built_in">time</span> <span class="hljs-keyword">import</span> sleep<br><br>#导入自定义模块：<br>#将自定义的变量和函数编写在一个单独的文件之中，创建成模块名+.py的形式<br># 然后参照上面的语法导入<br></code></pre></td></tr></table></figure>
<p><img src="/Python/modules.png" srcset="/img/loading.gif"></p>
<h3 id="Python日常应用比较广泛的模块"><a href="#Python日常应用比较广泛的模块" class="headerlink" title="Python日常应用比较广泛的模块"></a>Python日常应用比较广泛的模块</h3><ol>
<li>文字的处理：re</li>
<li>日期类型：time、datetime</li>
<li>数字和数学类型：math、random</li>
<li>文件和目录的访问：pathlib、os.path</li>
<li>数据压缩和归档：tarfile</li>
<li>通用操作系统：os、logging、argparse</li>
<li>多线程：threading、queue</li>
<li>Internet数据处理：base64、json、urllib</li>
<li>结构化标记处理工具：html、xml</li>
<li>开发工具：unitest</li>
<li>调试工具：timeit</li>
<li>软件包的发布：venv</li>
<li>运行服务的 <code>__main__</code></li>
</ol>
<h2 id="正则表达式-re"><a href="#正则表达式-re" class="headerlink" title="正则表达式 - re"></a>正则表达式 - re</h2><p>正则表达式可以用来处理符合某些规则的字符串。</p>
<h3 id="函数-1"><a href="#函数-1" class="headerlink" title="函数"></a>函数</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-built_in">compile</span>(pattern[, flags]) <span class="hljs-comment">#根据包含正则表达式的字符串创建模式对象</span><br>search(pattern, string[, flags]) <span class="hljs-comment">#在字符串中查找模式</span><br>match(pattern, string[, flags]) <span class="hljs-comment">#在字符串开头匹配模式</span><br>split(pattern, string[, maxsplit=<span class="hljs-number">0</span>]) <span class="hljs-comment">#根据模式来分割字符串</span><br>findall(pattern, string)<span class="hljs-comment">#返回一个列表，其中包含字符串中所有与模式匹配的子串</span><br>sub(pat, repl, string[, count=<span class="hljs-number">0</span>])<span class="hljs-comment">#将字符串中与模式pat匹配的子串都替换为repl</span><br>escape(string) <span class="hljs-comment">#对字符串中所有的正则表达式特殊字符都进行转义</span><br></code></pre></td></tr></table></figure>
<h3 id="字符"><a href="#字符" class="headerlink" title="字符"></a>字符</h3><p><img src="/Python/yuanzifu.png" srcset="/img/loading.gif"></p>
<center>↑常用元字符</center>
![](Python/xiandingfu.png)

<center>↑常用限定符</center>
### 实例代码


<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> re<br><br><span class="hljs-comment">#定义要匹配的字符串hell</span><br><span class="hljs-comment"># p = re.compile(&#x27;hell&#x27;)</span><br><span class="hljs-comment"># print(p.match(&#x27;hello&#x27;)) #&lt;re.Match object; span=(0, 4), match=&#x27;hell&#x27;&gt;</span><br><br><span class="hljs-comment"># 一个点 .  --&gt;一个点可以匹配任意一个字符</span><br>p = re.<span class="hljs-built_in">compile</span>(<span class="hljs-string">&#x27;.&#x27;</span>)<br>print(p.match(<span class="hljs-string">&#x27;a&#x27;</span>)) <span class="hljs-comment">#&lt;re.Match object; span=(0, 1), match=&#x27;a&#x27;&gt;</span><br><br>p1 = re.<span class="hljs-built_in">compile</span>(<span class="hljs-string">&#x27;..&#x27;</span>)<br>print(p1.match(<span class="hljs-string">&#x27;baa&#x27;</span>)) <span class="hljs-comment">#&lt;re.Match object; span=(0, 2), match=&#x27;ba&#x27;&gt;</span><br><br>p2 = re.<span class="hljs-built_in">compile</span>(<span class="hljs-string">&#x27;.&#123;3&#125;&#x27;</span>)<br>print(p2.match(<span class="hljs-string">&#x27;a12a&#x27;</span>)) <span class="hljs-comment">#&lt;re.Match object; span=(0, 3), match=&#x27;a12&#x27;&gt;</span><br><br><span class="hljs-comment"># ^ 从开头向后搜索  p = re.compile(&#x27;^&#x27;)</span><br><span class="hljs-comment"># $ 从结尾向前扩展  p = re.compile(&#x27;jpg$&#x27;)  匹配到以jpg结尾的图片</span><br><br><span class="hljs-comment"># *  --&gt; 匹配*前面的字符 0次或多次</span><br>p = re.<span class="hljs-built_in">compile</span>(<span class="hljs-string">&#x27;ca*t&#x27;</span>)<br>print(p.match(<span class="hljs-string">&#x27;caaaaaat&#x27;</span>)) <span class="hljs-comment">#&lt;re.Match object; span=(0, 8), match=&#x27;caaaaaat&#x27;&gt;</span><br><br><span class="hljs-comment"># +  --&gt; 匹配+前面的字符 1次或多次</span><br>p = re.<span class="hljs-built_in">compile</span>(<span class="hljs-string">&#x27;ca+t&#x27;</span>)<br>print(p.match(<span class="hljs-string">&#x27;caaaaaat&#x27;</span>)) <span class="hljs-comment">#&lt;re.Match object; span=(0, 8), match=&#x27;caaaaaat&#x27;&gt;</span><br>print(p.match(<span class="hljs-string">&#x27;ct&#x27;</span>))  <span class="hljs-comment">#None</span><br><br><span class="hljs-comment"># ?  --&gt; 匹配?前面的字符 0次或1次</span><br>p = re.<span class="hljs-built_in">compile</span>(<span class="hljs-string">&#x27;c?t&#x27;</span>)<br>print(p.match(<span class="hljs-string">&#x27;caat&#x27;</span>)) <span class="hljs-comment">#None</span><br>print(p.match(<span class="hljs-string">&#x27;ctt&#x27;</span>))  <span class="hljs-comment">#&lt;re.Match object; span=(0, 2), match=&#x27;ct&#x27;&gt;</span><br><br><span class="hljs-comment"># &#123;n&#125; --&gt; 匹配前面的字符出现n次</span><br>p = re.<span class="hljs-built_in">compile</span>(<span class="hljs-string">&#x27;ca&#123;4&#125;t&#x27;</span>)<br>print(p.match(<span class="hljs-string">&#x27;caaaat&#x27;</span>)) <span class="hljs-comment">#&lt;re.Match object; span=(0, 6), match=&#x27;caaaat&#x27;&gt;</span><br>print(p.match(<span class="hljs-string">&#x27;caaaaaat&#x27;</span>)) <span class="hljs-comment">#None</span><br><br><span class="hljs-comment"># &#123;m,n&#125; --&gt; 匹配前面的字符出现m~n次之间</span><br>p = re.<span class="hljs-built_in">compile</span>(<span class="hljs-string">&#x27;ca&#123;4,6&#125;t&#x27;</span>)<br>print(p.match(<span class="hljs-string">&#x27;caaaat&#x27;</span>)) <span class="hljs-comment">#&lt;re.Match object; span=(0, 6), match=&#x27;caaaat&#x27;&gt;</span><br>print(p.match(<span class="hljs-string">&#x27;caaaaaat&#x27;</span>)) <span class="hljs-comment">#&lt;re.Match object; span=(0, 8), match=&#x27;caaaaaat&#x27;&gt;</span><br><br><span class="hljs-comment"># []</span><br>p = re.<span class="hljs-built_in">compile</span>(<span class="hljs-string">&#x27;c[abc]t&#x27;</span>)<br>print(p.match(<span class="hljs-string">&#x27;cat&#x27;</span>)) <span class="hljs-comment">#&lt;re.Match object; span=(0, 3), match=&#x27;cat&#x27;&gt;</span><br>print(p.match(<span class="hljs-string">&#x27;cct&#x27;</span>)) <span class="hljs-comment">#&lt;re.Match object; span=(0, 3), match=&#x27;cct&#x27;&gt;</span><br>print(p.match(<span class="hljs-string">&#x27;cdt&#x27;</span>)) <span class="hljs-comment">#None</span><br><br><span class="hljs-comment"># \d --&gt;表示匹配的字符是一串数字</span><br><span class="hljs-comment"># \D --&gt; 表示匹配不包括这一串数字</span><br><span class="hljs-comment"># \s --&gt; 表示匹配一串字符串</span><br><span class="hljs-comment"># () --&gt; 正则分组</span><br><span class="hljs-comment">#  | --&gt; 表示或者</span><br><span class="hljs-comment"># ^$  --&gt; 组合在一起，表示这一段是空行</span><br><span class="hljs-comment"># .*?  --&gt; 不使用贪婪模式</span><br><br><br><span class="hljs-comment"># 正则分组</span><br>p = re.<span class="hljs-built_in">compile</span>(<span class="hljs-string">r&#x27;\d-\d-\d&#x27;</span>)<br>print(p.match(<span class="hljs-string">&#x27;2019-08-24&#x27;</span>)) <span class="hljs-comment">#None</span><br><br>p1 = re.<span class="hljs-built_in">compile</span>(<span class="hljs-string">r&#x27;(\d+)-(\d+)-(\d+)&#x27;</span>)<br>print(p1.match(<span class="hljs-string">&#x27;2019-08-24&#x27;</span>)) <span class="hljs-comment">#&lt;re.Match object; span=(0, 10), match=&#x27;2019-08-24&#x27;&gt;</span><br>print(p1.match(<span class="hljs-string">&#x27;2019-08-24&#x27;</span>).group()) <span class="hljs-comment">#2019-08-24</span><br>print(p1.match(<span class="hljs-string">&#x27;2019-08-24&#x27;</span>).group(<span class="hljs-number">2</span>)) <span class="hljs-comment">#08</span><br><br>year, month, day = p1.match(<span class="hljs-string">&#x27;2019-08-24&#x27;</span>).groups()<br>print(year) <span class="hljs-comment">#2019</span><br><br><span class="hljs-comment"># 搜索指定的字符串</span><br>p1 = re.<span class="hljs-built_in">compile</span>(<span class="hljs-string">r&#x27;(\d+)-(\d+)-(\d+)&#x27;</span>)<br>print(p1.match(<span class="hljs-string">&#x27;aa2019-08-24nn&#x27;</span>)) <span class="hljs-comment">#None</span><br>print(p1.search(<span class="hljs-string">&#x27;aa2019-08-24nn&#x27;</span>)) <span class="hljs-comment">#&lt;re.Match object; span=(2, 12), match=&#x27;2019-08-24&#x27;&gt;</span><br><br><span class="hljs-comment"># 字符串替换</span><br>phone = <span class="hljs-string">&#x27;123-456-789 # 这是一串字符串&#x27;</span><br>p2 = re.sub(<span class="hljs-string">r&#x27;#.*$&#x27;</span>, <span class="hljs-string">&#x27;&#x27;</span>, phone)<br>print(p2) <span class="hljs-comment">#123-456-789</span><br><br>p3 = re.sub(<span class="hljs-string">r&#x27;\D&#x27;</span>, <span class="hljs-string">&#x27;&#x27;</span>, p2)<br>print(p3) <span class="hljs-comment">#123456789</span><br></code></pre></td></tr></table></figure>
<h3 id="参考链接"><a href="#参考链接" class="headerlink" title="参考链接"></a>参考链接</h3><blockquote>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/jamfiy/article/details/88139202">python基础（re模块（正则表达式））</a></p>
<p><a target="_blank" rel="noopener" href="https://www.cnblogs.com/dyfblog/p/5880728.html">python正则表达式详解</a></p>
</blockquote>
<h2 id="时间相关的库"><a href="#时间相关的库" class="headerlink" title="时间相关的库"></a>时间相关的库</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> time<br><br>print(time.time()) <span class="hljs-comment">#输出现在与1970年1月1日相差的秒数</span><br>print(time.localtime()) <span class="hljs-comment">#time.struct_time(tm_year=2019, tm_mon=8, tm_mday=25, tm_hour=9, tm_min=45, tm_sec=9, tm_wday=6, tm_yday=237, tm_isdst=0)</span><br>print(time.strftime(<span class="hljs-string">&#x27;%Y-%m-%d %H-%M-%S&#x27;</span>))<span class="hljs-comment">#格式化输出：2019-08-25 09-45-09</span><br><br><span class="hljs-keyword">import</span> datetime<br>print(datetime.datetime.now()) <span class="hljs-comment">#22019-08-25 09:48:03.377347</span><br>newTime = datetime.timedelta(minutes=<span class="hljs-number">10</span>)<br>print(datetime.datetime.now() + newTime) <span class="hljs-comment">#2019-08-25 09:58:03.377347</span><br><br>one_day = datetime.datetime(<span class="hljs-number">2008</span>, <span class="hljs-number">10</span>, <span class="hljs-number">1</span>)<br>newDate = datetime.timedelta(days=<span class="hljs-number">10</span>)<br>print((one_day + newDate)) <span class="hljs-comment">#2008-10-11 00:00:00</span><br></code></pre></td></tr></table></figure>
<blockquote>
<p> 参考链接：<a target="_blank" rel="noopener" href="https://www.cnblogs.com/sunshine-blog/p/8477893.html">Python中处理日期时间库的使用方法（转载）</a></p>
</blockquote>
<h2 id="random库"><a href="#random库" class="headerlink" title="random库"></a>random库</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> random<br><span class="hljs-keyword">import</span> string<br><br><span class="hljs-comment"># 随机整数：</span><br><span class="hljs-built_in">print</span> (random.randint(<span class="hljs-number">1</span>,<span class="hljs-number">50</span>))<br><br><span class="hljs-comment"># 随机选取0到100间的偶数：</span><br><span class="hljs-built_in">print</span> (random.randrange(<span class="hljs-number">0</span>, <span class="hljs-number">101</span>, <span class="hljs-number">2</span>))<br><br><span class="hljs-comment"># 随机浮点数：</span><br><span class="hljs-built_in">print</span> (random.random())<br><span class="hljs-built_in">print</span> (random.uniform(<span class="hljs-number">1</span>, <span class="hljs-number">10</span>))<br><br><span class="hljs-comment"># 随机字符：</span><br><span class="hljs-built_in">print</span> (random.choice(<span class="hljs-string">&#x27;abcdefghijklmnopqrstuvwxyz!@#$%^&amp;*()&#x27;</span>))<br><br><span class="hljs-comment"># 多个字符中生成指定数量的随机字符：</span><br><span class="hljs-built_in">print</span> (random.sample(<span class="hljs-string">&#x27;zyxwvutsrqponmlkjihgfedcba&#x27;</span>,<span class="hljs-number">5</span>))<br><br><span class="hljs-comment"># 从a-zA-Z0-9生成指定数量的随机字符：</span><br>ran_str = <span class="hljs-string">&#x27;&#x27;</span>.join(random.sample(string.ascii_letters + string.digits, <span class="hljs-number">8</span>))<br><span class="hljs-built_in">print</span> (ran_str)<br><br><span class="hljs-comment"># 多个字符中选取指定数量的字符组成新字符串：</span><br><span class="hljs-built_in">print</span> (<span class="hljs-string">&#x27;&#x27;</span>.join(random.sample([<span class="hljs-string">&#x27;z&#x27;</span>,<span class="hljs-string">&#x27;y&#x27;</span>,<span class="hljs-string">&#x27;x&#x27;</span>,<span class="hljs-string">&#x27;w&#x27;</span>,<span class="hljs-string">&#x27;v&#x27;</span>,<span class="hljs-string">&#x27;u&#x27;</span>,<span class="hljs-string">&#x27;t&#x27;</span>,<span class="hljs-string">&#x27;s&#x27;</span>,<span class="hljs-string">&#x27;r&#x27;</span>,<span class="hljs-string">&#x27;q&#x27;</span>,<span class="hljs-string">&#x27;p&#x27;</span>,<span class="hljs-string">&#x27;o&#x27;</span>,<span class="hljs-string">&#x27;n&#x27;</span>,<span class="hljs-string">&#x27;m&#x27;</span>,<span class="hljs-string">&#x27;l&#x27;</span>,<span class="hljs-string">&#x27;k&#x27;</span>,<span class="hljs-string">&#x27;j&#x27;</span>,<span class="hljs-string">&#x27;i&#x27;</span>,<span class="hljs-string">&#x27;h&#x27;</span>,<span class="hljs-string">&#x27;g&#x27;</span>,<span class="hljs-string">&#x27;f&#x27;</span>,<span class="hljs-string">&#x27;e&#x27;</span>,<span class="hljs-string">&#x27;d&#x27;</span>,<span class="hljs-string">&#x27;c&#x27;</span>,<span class="hljs-string">&#x27;b&#x27;</span>,<span class="hljs-string">&#x27;a&#x27;</span>], <span class="hljs-number">5</span>)))<br><br><span class="hljs-comment"># 随机选取字符串：</span><br><span class="hljs-built_in">print</span> (random.choice([<span class="hljs-string">&#x27;剪刀&#x27;</span>, <span class="hljs-string">&#x27;石头&#x27;</span>, <span class="hljs-string">&#x27;布&#x27;</span>]))<br><br><span class="hljs-comment"># 打乱排序</span><br>items = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>, <span class="hljs-number">7</span>, <span class="hljs-number">8</span>, <span class="hljs-number">9</span>, <span class="hljs-number">0</span>]<br><span class="hljs-built_in">print</span> (random.shuffle(items))<br></code></pre></td></tr></table></figure>
<h2 id="文件目录操作"><a href="#文件目录操作" class="headerlink" title="文件目录操作"></a>文件目录操作</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> os<br><br>print(os.path.abspath(<span class="hljs-string">&#x27;.&#x27;</span>)) <span class="hljs-comment">#获取当前的绝对路径 E:\Code\Python\test</span><br>print(os.path.exists(<span class="hljs-string">r&#x27;E:\Code\Python\test&#x27;</span>)) <span class="hljs-comment">#判断文件或者目录是否存在</span><br>print(os.path.isfile(<span class="hljs-string">r&#x27;E:\Code\Python\test&#x27;</span>)) <span class="hljs-comment">#判断是否是文件</span><br>print(os.path.isdir(<span class="hljs-string">r&#x27;E:\Code\Python\test&#x27;</span>)) <span class="hljs-comment">#判断是否是目录</span><br>print(os.path.join(<span class="hljs-string">&#x27;/tmp/a&#x27;</span>,<span class="hljs-string">r&#x27;Python\test&#x27;</span>)) <span class="hljs-comment">#连接路径 /tmp/a\Python\test</span><br><br><span class="hljs-keyword">from</span> pathlib <span class="hljs-keyword">import</span> Path<br>p = Path(<span class="hljs-string">&#x27;.&#x27;</span>)<br>print(p.resolve()) <span class="hljs-comment">#E:\Code\Python\test</span><br><br>q = Path(<span class="hljs-string">r&#x27;E:\Code\Python\test\a&#x27;</span>)<br>Path.mkdir(q, parents=<span class="hljs-literal">True</span>) <span class="hljs-comment">#创建目录</span><br></code></pre></td></tr></table></figure>
<h2 id="机器学习库"><a href="#机器学习库" class="headerlink" title="机器学习库"></a>机器学习库</h2><h3 id="numpy库"><a href="#numpy库" class="headerlink" title="numpy库"></a><strong>numpy库</strong></h3><p><strong>Numpy</strong>用于高性能科学计算和数据分析，是常用的高级数据分析的基础包。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<br><br>arr1 = np.array([<span class="hljs-number">2</span>,<span class="hljs-number">3</span>,<span class="hljs-number">4</span>])<br>print(arr1)   <span class="hljs-comment">#[2 3 4]</span><br>print(<span class="hljs-built_in">type</span>(arr1)) <span class="hljs-comment">#&lt;class &#x27;numpy.ndarray&#x27;&gt;</span><br>print(arr1.dtype) <span class="hljs-comment">#int32</span><br><br>arr2 = np.array([<span class="hljs-number">1.2</span>,<span class="hljs-number">2.3</span>,<span class="hljs-number">3.8</span>])<br>print(arr2)<br>print(arr2.dtype) <span class="hljs-comment">#float64</span><br><br><span class="hljs-comment">#Numpy的算数运算：两个数组可以可以做算数运算</span><br><br>print(arr1+arr2) <span class="hljs-comment">#[3.2 5.3 7.8]</span><br>print(arr2 * <span class="hljs-number">10</span>) <span class="hljs-comment">#[12. 23. 38.]</span><br><br><span class="hljs-comment"># N维数组</span><br>data = [[<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>],[<span class="hljs-number">4</span>,<span class="hljs-number">5</span>,<span class="hljs-number">6</span>]]<br>arr3 = np.array(data) <span class="hljs-comment">#转化为一个二维矩阵</span><br>print(arr3)<br>print(arr3.shape) <span class="hljs-comment">#(2, 3)</span><br>print(arr3.dtype) <span class="hljs-comment">#int32</span><br><br><span class="hljs-comment">#生成特殊的值</span><br>print(np.zeros(<span class="hljs-number">10</span>)) <span class="hljs-comment">#[0. 0. 0. 0. 0. 0. 0. 0. 0. 0.]</span><br>print(np.zeros((<span class="hljs-number">3</span>,<span class="hljs-number">5</span>))) <span class="hljs-comment">#三行五列的矩阵值全为0</span><br>print(np.ones((<span class="hljs-number">3</span>,<span class="hljs-number">5</span>))) <span class="hljs-comment">#三行五列的矩阵值全为1</span><br>print( np.empty((<span class="hljs-number">2</span>,<span class="hljs-number">3</span>,<span class="hljs-number">2</span>)) )<span class="hljs-comment">#设置为空，会随机填充</span><br><br><span class="hljs-comment">#通过下标访问，arange()函数，切片操作</span><br>arr = np.arange(<span class="hljs-number">10</span>)<br>print(arr)<br>print(arr[<span class="hljs-number">1</span>]) <span class="hljs-comment"># 1</span><br>print(<span class="hljs-built_in">type</span>(np.arange(<span class="hljs-number">10</span>))) <span class="hljs-comment">#&lt;class &#x27;numpy.ndarray&#x27;&gt;</span><br><br>arr4 = np.arange(<span class="hljs-number">10</span>)<br>print(arr4[<span class="hljs-number">5</span>:<span class="hljs-number">8</span>]) <span class="hljs-comment">#[5 6 7]</span><br><br><span class="hljs-comment">#复制操作</span><br>arr_slie = arr4[<span class="hljs-number">3</span>:<span class="hljs-number">9</span>].copy()<br>print(arr_slie) <span class="hljs-comment">#[3 4 5 6 7 8]</span><br>arr_slie[<span class="hljs-number">1</span>:<span class="hljs-number">4</span>] = <span class="hljs-number">0</span><br>print(arr_slie) <span class="hljs-comment">#[3 0 0 0 7 8]</span><br><br>arrs = np.array([[<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>],[<span class="hljs-number">4</span>,<span class="hljs-number">5</span>,<span class="hljs-number">6</span>],[<span class="hljs-number">7</span>,<span class="hljs-number">8</span>,<span class="hljs-number">9</span>]])<br>print(arrs.shape) <span class="hljs-comment">#(3, 3)</span><br><br><span class="hljs-comment">#将多维数组转换为一维数组</span><br>arrs2 = arrs.flatten()<br>print(arrs2)       <span class="hljs-comment">#[1 2 3 4 5 6 7 8 9]</span><br>print(<span class="hljs-built_in">type</span>(arrs2)) <span class="hljs-comment">#&lt;class &#x27;numpy.ndarray&#x27;&gt;</span><br></code></pre></td></tr></table></figure>
<blockquote>
<p>参考链接：</p>
<p><a target="_blank" rel="noopener" href="https://www.cnblogs.com/yuxuefeng/articles/9235431.html">Python入门：Anaconda和Pycharm的安装和配置</a></p>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/qq_41149269/article/details/81268482">pycharm如何使用anaconda中的各种包</a></p>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/promisexb/article/details/80768874">pycharm使用Anaconda的配置环境</a></p>
</blockquote>
<h3 id="pandas"><a href="#pandas" class="headerlink" title="pandas"></a>pandas</h3><p><a target="_blank" rel="noopener" href="https://www.pypandas.cn/">Pandas</a>是一个强大的分析结构化数据的工具集；它的使用基础是Numpy（提供高性能的矩阵运算）；用于数据挖掘和数据分析，同时也提供数据清洗功能.</p>
<p><strong>Series</strong>:它是一种类似于一维数组的对象，是由一组数据(各种NumPy数据类型)以及一组与之相关的数据标签(即索引)组成。仅由一组数据也可产生简单的Series对象。</p>
<p><strong>DataFrame</strong>是Pandas中的一个表格型的数据结构，包含有一组有序的列，每列可以是不同的值类型(数值、字符串、布尔型等)，DataFrame即有行索引也有列索引，可以被看做是由Series组成的字典。</p>
<h3 id="pandas的Series"><a href="#pandas的Series" class="headerlink" title="pandas的Series"></a>pandas的Series</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> pandas <span class="hljs-keyword">import</span> Series,DataFrame<br><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<br><br>obj = Series([<span class="hljs-number">4</span>,<span class="hljs-number">5</span>,<span class="hljs-number">6</span>,-<span class="hljs-number">7</span>])<br>print(obj)<br><span class="hljs-comment"># 会自动添加索引，但是索引可以重复</span><br><span class="hljs-comment"># 0    4</span><br><span class="hljs-comment"># 1    5</span><br><span class="hljs-comment"># 2    6</span><br><span class="hljs-comment"># 3   -7</span><br><span class="hljs-comment"># dtype: int64</span><br>print(obj.index) <span class="hljs-comment">#RangeIndex(start=0, stop=4, step=1)</span><br>print(obj.values) <span class="hljs-comment">#[ 4  5  6 -7]</span><br><br><span class="hljs-comment"># 生成时同时指定索引</span><br>obj2 = Series([<span class="hljs-number">4</span>,<span class="hljs-number">5</span>,<span class="hljs-number">6</span>,<span class="hljs-number">7</span>],index=[<span class="hljs-string">&#x27;d&#x27;</span>,<span class="hljs-string">&#x27;b&#x27;</span>,<span class="hljs-string">&#x27;c&#x27;</span>,<span class="hljs-string">&#x27;a&#x27;</span>])<br>print(obj2)<br><span class="hljs-comment"># d    4</span><br><span class="hljs-comment"># b    5</span><br><span class="hljs-comment"># c    6</span><br><span class="hljs-comment"># a    7</span><br><span class="hljs-comment"># dtype: int64</span><br>print(<span class="hljs-built_in">type</span>(obj2)) <span class="hljs-comment">#&lt;class &#x27;pandas.core.series.Series&#x27;&gt;</span><br><br><span class="hljs-comment">#通过索引来改变值</span><br>obj2[<span class="hljs-string">&#x27;c&#x27;</span>] = <span class="hljs-number">2</span><br>print(obj2)<br><br><span class="hljs-comment">#使用 in 操作符判断索引是否在obj2中，但是无法识别value</span><br>print(<span class="hljs-string">&#x27;a&#x27;</span> <span class="hljs-keyword">in</span> obj2)<br><br><span class="hljs-comment">#将字典转化成</span><br>stata = &#123;<span class="hljs-string">&#x27;aa&#x27;</span>:<span class="hljs-number">1</span>,<span class="hljs-string">&#x27;bb&#x27;</span>:<span class="hljs-number">2</span>,<span class="hljs-string">&#x27;cc&#x27;</span>:<span class="hljs-number">3</span>&#125;<br>obj3 = Series(stata)<br>print(obj3)<br><br><span class="hljs-comment">#重新进行索引排序</span><br>obj4 = Series([<span class="hljs-number">4.5</span>,<span class="hljs-number">5.3</span>,<span class="hljs-number">1.2</span>,-<span class="hljs-number">3.6</span>], index= [<span class="hljs-string">&#x27;b&#x27;</span>,<span class="hljs-string">&#x27;c&#x27;</span>,<span class="hljs-string">&#x27;d&#x27;</span>,<span class="hljs-string">&#x27;a&#x27;</span>])<br><br><span class="hljs-comment"># fill_value=使用这个值进行填充索引存在但值不存在的那些。</span><br>obj5 = obj4.reindex([<span class="hljs-string">&#x27;a&#x27;</span>,<span class="hljs-string">&#x27;b&#x27;</span>,<span class="hljs-string">&#x27;c&#x27;</span>,<span class="hljs-string">&#x27;d&#x27;</span>,<span class="hljs-string">&#x27;e&#x27;</span>], fill_value=<span class="hljs-number">0</span>)<br>print(obj5)<br><br>obj6 = Series([<span class="hljs-string">&#x27;blue&#x27;</span>,<span class="hljs-string">&#x27;black&#x27;</span>,<span class="hljs-string">&#x27;white&#x27;</span>], index=[<span class="hljs-number">0</span>,<span class="hljs-number">2</span>,<span class="hljs-number">4</span>])<br><br><span class="hljs-comment"># method=&#x27;ffill&#x27;是以上面的值作为填充</span><br>print(obj6.reindex(<span class="hljs-built_in">range</span>(<span class="hljs-number">6</span>) , method=<span class="hljs-string">&#x27;ffill&#x27;</span>))<br><span class="hljs-comment"># method=&#x27;bfill&#x27;是以下面的值作为填充</span><br>print(obj6.reindex(<span class="hljs-built_in">range</span>(<span class="hljs-number">6</span>) , method=<span class="hljs-string">&#x27;bfill&#x27;</span>))<br><br><span class="hljs-keyword">from</span> numpy <span class="hljs-keyword">import</span> nan <span class="hljs-keyword">as</span> NA<br>obj7 = Series([<span class="hljs-number">1</span>,NA,<span class="hljs-number">3</span>])<br>print(obj7)<br><span class="hljs-comment">#删除NaN这个值</span><br>print(obj7.dropna())<br><br><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<br><br><span class="hljs-comment">#层次化索引</span><br>fram5 = Series(np.random.randn(<span class="hljs-number">10</span>),<br>               index=[[<span class="hljs-string">&#x27;a&#x27;</span>,<span class="hljs-string">&#x27;a&#x27;</span>,<span class="hljs-string">&#x27;a&#x27;</span>,<span class="hljs-string">&#x27;b&#x27;</span>,<span class="hljs-string">&#x27;b&#x27;</span>,<span class="hljs-string">&#x27;b&#x27;</span>,<span class="hljs-string">&#x27;c&#x27;</span>,<span class="hljs-string">&#x27;c&#x27;</span>,<span class="hljs-string">&#x27;d&#x27;</span>,<span class="hljs-string">&#x27;d&#x27;</span>],<br>                      [<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>,<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>,<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>]])<br>print(fram5)<br><br>print(fram5[<span class="hljs-string">&#x27;b&#x27;</span>])<br>print(fram5[<span class="hljs-string">&#x27;b&#x27;</span>:<span class="hljs-string">&#x27;c&#x27;</span>])<br><br><span class="hljs-comment">#将一维的数据转换为二维数据</span><br>print(fram5.unstack())<br><span class="hljs-comment">#将二维的数据转换为一维数据</span><br>print(fram5.unstack().stack())<br></code></pre></td></tr></table></figure>
<h3 id="pandas的DataFram"><a href="#pandas的DataFram" class="headerlink" title="pandas的DataFram"></a>pandas的DataFram</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment">#字典</span><br>data = &#123;<span class="hljs-string">&#x27;city&#x27;</span>:[<span class="hljs-string">&#x27;shanghai&#x27;</span>,<span class="hljs-string">&#x27;guangdong&#x27;</span>,<span class="hljs-string">&#x27;shenzhen&#x27;</span>,<span class="hljs-string">&#x27;beijing&#x27;</span>],<br>        <span class="hljs-string">&#x27;year&#x27;</span>:[<span class="hljs-number">2013</span>,<span class="hljs-number">2015</span>,<span class="hljs-number">2017</span>,<span class="hljs-number">2019</span>],<br>        <span class="hljs-string">&#x27;pop&#x27;</span>:[<span class="hljs-number">1.1</span>,<span class="hljs-number">1.3</span>,<span class="hljs-number">1.5</span>,<span class="hljs-number">1.7</span>]&#125;<br><br>fram = DataFrame(data)<br><br>print(fram)<br><span class="hljs-comment">#         city  year  pop</span><br><span class="hljs-comment"># 0   shanghai  2013  1.1</span><br><span class="hljs-comment"># 1  guangdong  2015  1.3</span><br><span class="hljs-comment"># 2   shenzhen  2017  1.5</span><br><span class="hljs-comment"># 3    beijing  2019  1.7</span><br>print(<span class="hljs-built_in">type</span>(fram)) <span class="hljs-comment">#&lt;class &#x27;pandas.core.frame.DataFrame&#x27;&gt;</span><br><br><span class="hljs-comment">#指定表格的排序规则</span><br>fram2 = DataFrame(data, columns=[<span class="hljs-string">&#x27;year&#x27;</span>,<span class="hljs-string">&#x27;city&#x27;</span>,<span class="hljs-string">&#x27;pop&#x27;</span>])<br>print(fram2)<br><br><span class="hljs-comment">#提取数据</span><br>print(fram[<span class="hljs-string">&#x27;city&#x27;</span>])<br>print(fram.year)<br><br><span class="hljs-comment">#增加新的列</span><br>fram2[<span class="hljs-string">&#x27;new&#x27;</span>] = <span class="hljs-number">100</span><br>print(fram2)<br><br><span class="hljs-comment">#根据其他列来产生新的列</span><br>fram2[<span class="hljs-string">&#x27;cap&#x27;</span>] = (fram2.city == <span class="hljs-string">&#x27;beijing&#x27;</span>)<br>print(fram2)<br><br><span class="hljs-comment">#将字典转化为DataFram</span><br>pop = &#123;<span class="hljs-string">&#x27;beijing&#x27;</span>:&#123;<span class="hljs-number">2008</span>:<span class="hljs-number">1.5</span>,<span class="hljs-number">2009</span>:<span class="hljs-number">2.0</span>&#125;,<br>       <span class="hljs-string">&#x27;shanghai&#x27;</span>:&#123;<span class="hljs-number">2008</span>:<span class="hljs-number">2.0</span>,<span class="hljs-number">2009</span>:<span class="hljs-number">3.6</span>&#125;&#125;<br><br>fram3 = DataFrame(pop)<br>print(fram3)<br><span class="hljs-comment">#       beijing  shanghai</span><br><span class="hljs-comment"># 2008      1.5       2.0</span><br><span class="hljs-comment"># 2009      2.0       3.6</span><br><br><span class="hljs-comment">#行列互换：行列式转换</span><br>print(fram3.T)<br><br><span class="hljs-keyword">from</span> numpy <span class="hljs-keyword">import</span> nan <span class="hljs-keyword">as</span> NA<br><br>fram4 = DataFrame([[<span class="hljs-number">1</span>,<span class="hljs-number">6</span>,<span class="hljs-number">5</span>],[<span class="hljs-number">1</span>,NA,NA],[NA,NA,NA]])<br>print(fram4)<br><span class="hljs-comment">#      0    1    2</span><br><span class="hljs-comment"># 0  1.0  6.0  5.0</span><br><span class="hljs-comment"># 1  1.0  NaN  NaN</span><br><span class="hljs-comment"># 2  NaN  NaN  NaN</span><br><br><span class="hljs-comment">#删除含有na的行</span><br>print(fram4.dropna())<br><span class="hljs-comment">#      0    1    2</span><br><span class="hljs-comment"># 0  1.0  6.0  5.0</span><br><br><span class="hljs-comment">#删除行的值全部都是na的行</span><br>print(fram4.dropna(how=<span class="hljs-string">&#x27;all&#x27;</span>))<br><span class="hljs-comment">#      0    1    2</span><br><span class="hljs-comment"># 0  1.0  6.0  5.0</span><br><span class="hljs-comment"># 1  1.0  NaN  NaN</span><br><br><span class="hljs-comment"># 使第四列的值全为na</span><br><span class="hljs-comment"># fram4[4] = NA</span><br><span class="hljs-comment"># print(fram4)</span><br><span class="hljs-comment">#删除一列全是na的列</span><br>print(fram4.dropna(axis=<span class="hljs-number">1</span>, how=<span class="hljs-string">&#x27;all&#x27;</span>))<br><br><span class="hljs-comment">#将na填充为数字,默认修改时不会改变本身的，但是添加inplace这个参数就可以改变本身</span><br>print(fram4.fillna(<span class="hljs-number">0</span>, inplace=<span class="hljs-literal">True</span>))<br>print(fram4)<br></code></pre></td></tr></table></figure>
<h3 id="matplotlib绘图"><a href="#matplotlib绘图" class="headerlink" title="matplotlib绘图"></a>matplotlib绘图</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> matplotlib.pyplot <span class="hljs-keyword">as</span> plt<br><br><span class="hljs-comment">#当产生警告时忽略</span><br><span class="hljs-keyword">import</span> warnings<br>warnings.filterwarnings(<span class="hljs-string">&#x27;ignore&#x27;</span>)<br><br><span class="hljs-comment">#绘制简单的曲线</span><br>plt.plot([<span class="hljs-number">1</span>,<span class="hljs-number">3</span>,<span class="hljs-number">5</span>],[<span class="hljs-number">4</span>,<span class="hljs-number">8</span>,<span class="hljs-number">10</span>])<br>plt.show()<br></code></pre></td></tr></table></figure>
<p><img src="/Python/matplotlib1.png" srcset="/img/loading.gif" alt="1567172852560"></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> matplotlib.pyplot <span class="hljs-keyword">as</span> plt<br><br><br><span class="hljs-comment">#当产生警告时忽略</span><br><span class="hljs-keyword">import</span> warnings<br>warnings.filterwarnings(<span class="hljs-string">&#x27;ignore&#x27;</span>)<br><br>x = np.linspace(-np.pi,np.pi,<span class="hljs-number">100</span>)<span class="hljs-comment"># x轴的定义域为 -3.14到3.14 中间间隔100个元素</span><br>plt.plot(x, np.sin(x))<br>plt.show()<br></code></pre></td></tr></table></figure>
<p><img src="/Python/matplotlib2.png" srcset="/img/loading.gif" alt="1567173015230"></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> matplotlib.pyplot <span class="hljs-keyword">as</span> plt<br><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<br><br><span class="hljs-comment">#当产生警告时忽略</span><br><span class="hljs-keyword">import</span> warnings<br>warnings.filterwarnings(<span class="hljs-string">&#x27;ignore&#x27;</span>)<br><br>x = np.linspace(-np.pi * <span class="hljs-number">2</span>, np.pi * <span class="hljs-number">2</span>, <span class="hljs-number">100</span>)<span class="hljs-comment"># x轴的定义域为 -3.14到3.14 中间间隔100个元素</span><br>plt.figure(<span class="hljs-number">1</span>, dpi=<span class="hljs-number">50</span>)<span class="hljs-comment">#创建图表1，dpi为精度</span><br><span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">1</span>,<span class="hljs-number">5</span>):<br>    plt.plot(x, np.sin(x/i))<br>plt.show()<br></code></pre></td></tr></table></figure>
<p><img src="/Python/matplotlib3.png" srcset="/img/loading.gif" alt="1567173105787"></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> matplotlib.pyplot <span class="hljs-keyword">as</span> plt<br><br><span class="hljs-comment">#当产生警告时忽略</span><br><span class="hljs-keyword">import</span> warnings<br>warnings.filterwarnings(<span class="hljs-string">&#x27;ignore&#x27;</span>)<br><br><span class="hljs-comment">#绘制直方图</span><br>plt.figure(<span class="hljs-number">1</span>, dpi=<span class="hljs-number">50</span>) <span class="hljs-comment">#创建图表1，dpi表示图片精度</span><br>data = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">5</span>, <span class="hljs-number">1</span>, <span class="hljs-number">3</span>, <span class="hljs-number">6</span>]<br>plt.hist(data) <span class="hljs-comment">#只要传入数据，直方图就会统计数据出现的次数</span><br>plt.show()<br></code></pre></td></tr></table></figure>
<p><img src="/Python/matplotlib4.png" srcset="/img/loading.gif" alt="1567173208283"></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> matplotlib.pyplot <span class="hljs-keyword">as</span> plt<br><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<br><br><span class="hljs-comment">#当产生警告时忽略</span><br><span class="hljs-keyword">import</span> warnings<br>warnings.filterwarnings(<span class="hljs-string">&#x27;ignore&#x27;</span>)<br><br><span class="hljs-comment"># 绘制散点图</span><br>x = np.arange(<span class="hljs-number">1</span>, <span class="hljs-number">10</span>)<br>y = x<br>fig = plt.figure()<br>plt.scatter(x, y, c=<span class="hljs-string">&#x27;r&#x27;</span>, marker=<span class="hljs-string">&#x27;o&#x27;</span>) <span class="hljs-comment">#c = &#x27;r&#x27;表示散点的颜色为红色，marker表示指定散点的形状为原型</span><br>plt.show()<br></code></pre></td></tr></table></figure>
<p><img src="/Python/matplotlib5.png" srcset="/img/loading.gif" alt="1567173326484"></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> matplotlib.pyplot <span class="hljs-keyword">as</span> plt<br><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<br><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<br><span class="hljs-keyword">import</span> seaborn <span class="hljs-keyword">as</span> sns<br><br><span class="hljs-comment">#当产生警告时忽略</span><br><span class="hljs-keyword">import</span> warnings<br>warnings.filterwarnings(<span class="hljs-string">&#x27;ignore&#x27;</span>)<br><br><span class="hljs-comment">#读取csv格式文件，绘制散点图</span><br>iris = pd.read_csv(<span class="hljs-string">&#x27;04.CSV&#x27;</span>)<br>print(iris.head()) <span class="hljs-comment">#打印前五行数据</span><br><span class="hljs-comment">#绘制散点图</span><br>iris.plot(kind=<span class="hljs-string">&#x27;scatter&#x27;</span>, x=<span class="hljs-string">&#x27;132&#x27;</span>, y=<span class="hljs-string">&#x27;2840&#x27;</span>)<br>plt.show()<br><br><span class="hljs-comment">############</span><br><span class="hljs-comment"># 采用新的库seaborn绘制</span><br>iris = pd.read_csv(<span class="hljs-string">&#x27;04.CSV&#x27;</span>)<br><span class="hljs-comment">#设置样式</span><br>sns.<span class="hljs-built_in">set</span>(style=<span class="hljs-string">&#x27;white&#x27;</span>, color_codes=<span class="hljs-literal">True</span>)<br><span class="hljs-comment">#设置绘图格式为散点图</span><br>sns.jointplot(x=<span class="hljs-string">&#x27;132&#x27;</span>, y=<span class="hljs-string">&#x27;2840&#x27;</span>, data=iris, size=<span class="hljs-number">5</span>)<br><span class="hljs-comment">#displot绘制曲线</span><br>sns.distplot(iris[<span class="hljs-string">&#x27;132&#x27;</span>])<br>plt.show()<br><span class="hljs-comment">## 下图是库seaborn绘制的</span><br></code></pre></td></tr></table></figure>
<p><img src="/Python/matplotlib6.png" srcset="/img/loading.gif" alt="1567173639044"></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> matplotlib.pyplot <span class="hljs-keyword">as</span> plt<br><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<br><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<br><span class="hljs-keyword">import</span> seaborn <span class="hljs-keyword">as</span> sns<br><br><span class="hljs-comment">#当产生警告时忽略</span><br><span class="hljs-keyword">import</span> warnings<br>warnings.filterwarnings(<span class="hljs-string">&#x27;ignore&#x27;</span>)<br><br>iris = pd.read_csv(<span class="hljs-string">&#x27;04.CSV&#x27;</span>)<br><span class="hljs-comment">#设置样式</span><br>sns.<span class="hljs-built_in">set</span>(style=<span class="hljs-string">&#x27;white&#x27;</span>, color_codes=<span class="hljs-literal">True</span>)<br><span class="hljs-comment"># #FacetGrid 是一般的绘图函数</span><br><span class="hljs-comment"># #hue 彩色显示分类0/1/2</span><br><span class="hljs-comment"># #plt.scatter 绘制散点图</span><br><span class="hljs-comment"># #add_legend 显示分类的描述信息</span><br><span class="hljs-comment"># #map用来指定行列</span><br>sns.FacetGrid(iris, hue=<span class="hljs-string">&#x27;11&#x27;</span>, size=<span class="hljs-number">5</span>).<span class="hljs-built_in">map</span>(plt.scatter, <span class="hljs-string">&#x27;132&#x27;</span>, <span class="hljs-string">&#x27;2840&#x27;</span>).add_legend()<br>plt.show()<br></code></pre></td></tr></table></figure>

<p><img src="/Python/matplotlib7.png" srcset="/img/loading.gif" alt="1567173541444"></p>

            </div>
            <hr>
            <div>
              <div class="post-metas mb-3">
                
                  <div class="post-meta mr-3">
                    <i class="iconfont icon-category"></i>
                    
                      <a class="hover-with-bg" href="/categories/Python/">Python</a>
                    
                  </div>
                
                
                  <div class="post-meta">
                    <i class="iconfont icon-tags"></i>
                    
                      <a class="hover-with-bg" href="/tags/%E5%B0%8F%E7%99%BD%E6%96%87/">小白文</a>
                    
                      <a class="hover-with-bg" href="/tags/Python/">Python</a>
                    
                  </div>
                
              </div>
              
                <p class="note note-warning">本博客所有文章除特别声明外，均采用 <a target="_blank" href="https://creativecommons.org/licenses/by-sa/4.0/deed.zh" rel="nofollow noopener noopener">CC BY-SA 4.0 协议</a> ，转载请注明出处！</p>
              
              
                <div class="post-prevnext">
                  <article class="post-prev col-6">
                    
                    
                      <a href="/network-chapter-1/">
                        <i class="iconfont icon-arrowleft"></i>
                        <span class="hidden-mobile">计算机网络——第一章 概述</span>
                        <span class="visible-mobile">上一篇</span>
                      </a>
                    
                  </article>
                  <article class="post-next col-6">
                    
                    
                      <a href="/linux-vim/">
                        <span class="hidden-mobile">vim编辑器的使用</span>
                        <span class="visible-mobile">下一篇</span>
                        <i class="iconfont icon-arrowright"></i>
                      </a>
                    
                  </article>
                </div>
              
            </div>

            
              <!-- Comments -->
              <article class="comments" id="comments">
                
                
  <div id="vcomments"></div>
  <script type="text/javascript">
    Fluid.utils.waitElementVisible('vcomments', function() {
      Fluid.utils.createScript('https://cdn.jsdelivr.net/npm/valine@1.4.14/dist/Valine.min.js', function () {
        new Valine({
          el: "#vcomments",
          app_id: "MtnFjgPHU4QgDov26Ttd39aS-gzGzoHsz",
          app_key: "VxW97jqxtcjGJrb9AWmPKqrK",
          placeholder: "期待您的发言",
          path: window.location.pathname,
          avatar: "wavatar",
          meta: ["nick","mail","link"],
          pageSize: "10",
          lang: "zh-CN",
          highlight: true,
          recordIP: true,
          serverURLs: "",
        });
      });
    });
  </script>
  <noscript>Please enable JavaScript to view the
    <a target="_blank" href="https://valine.js.org" rel="nofollow noopener noopener">comments powered by Valine.</a>
  </noscript>


              </article>
            
          </article>
        </div>
      </div>
    </div>
    
      <div class="d-none d-lg-block col-lg-2 toc-container" id="toc-ctn">
        <div id="toc">
  <p class="toc-header"><i class="iconfont icon-list"></i>&nbsp;目录</p>
  <div class="toc-body" id="toc-body"></div>
</div>

      </div>
    
  </div>
</div>

<!-- Custom -->


    

    
      <a id="scroll-top-button" href="#" role="button">
        <i class="iconfont icon-arrowup" aria-hidden="true"></i>
      </a>
    

    
      <div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel"
     aria-hidden="true">
  <div class="modal-dialog modal-dialog-scrollable modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header text-center">
        <h4 class="modal-title w-100 font-weight-bold">搜索</h4>
        <button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body mx-3">
        <div class="md-form mb-5">
          <input type="text" id="local-search-input" class="form-control validate">
          <label data-error="x" data-success="v"
                 for="local-search-input">关键词</label>
        </div>
        <div class="list-group" id="local-search-result"></div>
      </div>
    </div>
  </div>
</div>
    

    
  </main>

  <footer class="text-center mt-5 py-3">
  <div>
    由<a href="https://hexo.io" target="_blank" rel="nofollow noopener"><b>Hexo</b></a>强力驱动
  <i class="iconfont icon-love"></i>
  主题：<a href="https://github.com/fluid-dev/hexo-theme-fluid" target="_blank" rel="nofollow noopener"> <b>Fluid</b></a>
  <br>

<span>已经陪伴<a href="https://www.colourso.top" target="_blank" rel="nofollow noopener"><b>Colourso</b></a>：</span><span id="timeDate">25</span>天<span id="times">03 小时 08 分 10 秒</span>
  <br>
  </div>
  
  <div class="statistics">
    
    

    
      
        <!-- LeanCloud 统计PV -->
        <span id="leancloud-site-pv-container" style="display: none">
            总访问量 
            <span id="leancloud-site-pv"></span>
             次
          </span>
      
      
        <!-- LeanCloud 统计UV -->
        <span id="leancloud-site-uv-container" style="display: none">
            总访客数 
            <span id="leancloud-site-uv"></span>
             人
          </span>
      

    
  </div>


  


  


<!-- 网站运行时间的设置 -->
<script src="/js/HidenMath.js"></script>
<script>
  var now = new Date();
  function createtime() {
    var grt = new Date("10/01/2018 12:30:00");//此处修改你的建站时间或者网站上线时间
    now.setTime(now.getTime() + 250);
    days = (now - grt) / 1000 / 60 / 60 / 24; dnum = Math.floor(days);
    hours = (now - grt) / 1000 / 60 / 60 - (24 * dnum); hnum = Math.floor(hours);
    if (String(hnum).length == 1) { hnum = "0" + hnum; } minutes = (now - grt) / 1000 / 60 - (24 * 60 * dnum) - (60 * hnum);
    mnum = Math.floor(minutes); if (String(mnum).length == 1) { mnum = "0" + mnum; }
    seconds = (now - grt) / 1000 - (24 * 60 * 60 * dnum) - (60 * 60 * hnum) - (60 * mnum);
    snum = Math.round(seconds); if (String(snum).length == 1) { snum = "0" + snum; }
    document.getElementById("timeDate").innerHTML = dnum;
    document.getElementById("times").innerHTML = hnum + " 小时 " + mnum + " 分 " + snum + " 秒";
  }
  setInterval("createtime()", 250);
</script>
</footer>

<!-- SCRIPTS -->

  <script  src="https://cdn.jsdelivr.net/npm/nprogress@0.2.0/nprogress.min.js" ></script>
  <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/nprogress@0.2.0/nprogress.min.css" />

  <script>
    NProgress.configure({"showSpinner":false,"trickleSpeed":100})
    NProgress.start()
    window.addEventListener('load', function() {
      NProgress.done();
    })
  </script>


<script  src="https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.min.js" ></script>
<script  src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.min.js" ></script>
<script  src="/js/debouncer.js" ></script>
<script  src="/js/events.js" ></script>
<script  src="/js/plugins.js" ></script>

<!-- Plugins -->


  
    <script  src="/js/lazyload.js" ></script>
  



  



  <script  src="https://cdn.jsdelivr.net/npm/tocbot@4.12.0/dist/tocbot.min.js" ></script>



  <script  src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.js" ></script>



  <script  src="https://cdn.jsdelivr.net/npm/anchor-js@4.3.0/anchor.min.js" ></script>



  <script defer src="https://cdn.jsdelivr.net/npm/clipboard@2.0.6/dist/clipboard.min.js" ></script>




  <script defer src="/js/leancloud.js" ></script>



  <script  src="https://cdn.jsdelivr.net/npm/typed.js@2.0.11/lib/typed.min.js" ></script>
  <script>
    (function (window, document) {
      var typing = Fluid.plugins.typing;
      var title = document.getElementById('subtitle').title;
      
      typing(title)
      
    })(window, document);
  </script>



  <script  src="/js/local-search.js" ></script>
  <script>
    (function () {
      var path = "/local-search.xml";
      var inputArea = document.querySelector("#local-search-input");
      inputArea.onclick = function () {
        searchFunc(path, 'local-search-input', 'local-search-result');
        this.onclick = null
      }
    })()
  </script>





  

  
    <!-- MathJax -->
    <script>
      MathJax = {
        tex: {
          inlineMath: [['$', '$'], ['\\(', '\\)']]
        },
        options: {
          renderActions: {
            findScript: [10, doc => {
              document.querySelectorAll('script[type^="math/tex"]').forEach(node => {
                const display = !!node.type.match(/; *mode=display/);
                const math = new doc.options.MathItem(node.textContent, doc.inputJax[0], display);
                const text = document.createTextNode('');
                node.parentNode.replaceChild(text, node);
                math.start = { node: text, delim: '', n: 0 };
                math.end = { node: text, delim: '', n: 0 };
                doc.math.push(math);
              });
            }, '', false],
            insertedScript: [200, () => {
              document.querySelectorAll('mjx-container').forEach(node => {
                let target = node.parentNode;
                if (target.nodeName.toLowerCase() === 'li') {
                  target.parentNode.classList.add('has-jax');
                }
              });
            }, '', false]
          }
        }
      };
    </script>

    <script async src="https://cdn.jsdelivr.net/npm/mathjax@3.1.2/es5/tex-svg.js" ></script>

  








  

  

  

  

  

  





<!-- 主题的启动项 保持在最底部 -->
<script  src="/js/boot.js" ></script>



</body>
</html>
